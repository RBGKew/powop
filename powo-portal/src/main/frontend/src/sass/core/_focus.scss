// focus styles library - mixins to make

$kew-focus-text-colour: $kew-black;
$kew-focus-colour-light: $kew-focus-outline-yellow;
$kew-focus-colour-dark: $kew-black;

@mixin text-focus-styles() {
  background-color: $kew-focus-colour-light;
  box-shadow: 0 3px 0 $kew-focus-colour-dark;
  color: $kew-focus-text-colour;
  outline: none;
  text-decoration: none;
}

@mixin button-focus-styles() {
}

@mixin double-box-shadow($inner-colour, $outer-colour, $line-width: 3px) {
  // todo: do we want !important here? Can we somehow pass it in?
  box-shadow: 0 0 0 $line-width $inner-colour,
    0 0 0 ($line-width * 2) $outer-colour !important;
}

@mixin focus-on-light-bg() {
  @include double-box-shadow($kew-focus-colour-dark, $kew-focus-colour-light);
  outline: none;
}

@mixin focus-on-dark-bg() {
  @include double-box-shadow($kew-focus-colour-light, $kew-focus-colour-dark);
  outline: none;
}

/**
TODO:
- figure out where this code should live
    -> must be up to the declaring / calling code
    -> this needs to expose mixins and sensible defaults
- figure out what these mixins should be called
    -> do we want them to be mixins or classes?
    -> let's have them as mixins - more straightforward than @extend
    -> also what are the names for the different kinds?
        -> in govuk they have 
              $govuk-focus-text-colour
              $govuk-focus-colour
    -> ideas
        - plain-focus           - focus--color
        - text-focus            - focus--coloured
        - focus--text           - focus--bordered
        - focus--primary
        - focus--
- test furiously to find out what we've missed (especially inputs)
- general:
  - see if we can remove !important sufficiently
- buttons:
  - fix the Sort By button not having anything at all selected
  - fix non-pill buttons (there are many)
- inputs
  -
- fix logo SVG
    -> the css for the logo should set the path fill using $kew-focus-text-colour
- remove below styles after checking all of them
*/

// global styles - moved into somewhere sensible?

a,
button,
select {
  &:focus {
    // We use !important here because these styles are deliberately very low specificity but also
    // need to be present all together for accessibility. For example if the color is different to
    // $kew-black the contrast ratio may not be accessible.
    background-color: $kew-focus-colour-light !important;
    box-shadow: 0 3px 0 $kew-focus-colour-dark !important;
    color: $kew-focus-text-colour !important;
    outline: none !important;
    text-decoration: none;
  }
}

// specific styles - these should be moved out

a.featured-taxon {
  &:focus {
    @include focus-on-light-bg();
    background: unset !important;
  }
}

.s-page--home {
  .tokenfield.focus,
  #search-button:focus {
    @include focus-on-dark-bg();
  }
}

.tokenfield.focus,
#search-button:focus {
  @include focus-on-light-bg();
}

#grid_view,
#list_view {
  &:focus {
    // border-radius: 50%;
    box-shadow: 0 0 0 3px $kew-black;
    // todo: fix this and put in a mixin focus-circular-border
  }
}

.c-card a {
  &:focus {
    @include focus-on-light-bg();
    background: unset !important;
  }
}

// *,
// button,
// input,
// .form-control,
// .btn:focus,
// a {
//   &:focus {
//     outline: 3px solid $kew-focus-outline-yellow;
//     outline-offset: 0;
//     box-shadow: none;
//     &.top-link,
//     &.footer-link {
//       outline-offset: 3px;
//     }
//   }
// }

// .tokenfield.focus,
// #search-button:focus {
//   outline: none;
//   box-shadow: 0 0 0pt 2px $kew-focus-outline-yellow !important;
// }

// .c-gallery a:focus,
// a.c-gallery-header {
//   outline-offset: -2px;
// }
