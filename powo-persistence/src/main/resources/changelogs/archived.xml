<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Legacy changelog from 1.0.6 release. Going forward we will use a compressed version of this (reference-schema.xml) instead -->
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
  <changeSet author="ben" id="1303384038461-1">
    <createTable tableName="BATCH_JOB_EXECUTION">
      <column name="JOB_EXECUTION_ID" type="BIGINT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="VERSION" type="BIGINT"/>
      <column name="JOB_INSTANCE_ID" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="CREATE_TIME" type="DATETIME">
        <constraints nullable="false"/>
      </column>
      <column name="START_TIME" type="DATETIME"/>
      <column name="END_TIME" type="DATETIME"/>
      <column name="STATUS" type="VARCHAR(10)"/>
      <column name="EXIT_CODE" type="VARCHAR(100)"/>
      <column name="EXIT_MESSAGE" type="VARCHAR(2500)"/>
      <column name="LAST_UPDATED" type="DATETIME"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-2">
    <createTable tableName="BATCH_JOB_EXECUTION_CONTEXT">
      <column name="JOB_EXECUTION_ID" type="BIGINT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="SHORT_CONTEXT" type="VARCHAR(2500)">
        <constraints nullable="false"/>
      </column>
      <column name="SERIALIZED_CONTEXT" type="TEXT"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-3">
    <createTable tableName="BATCH_JOB_EXECUTION_SEQ">
      <column name="ID" type="BIGINT">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-4">
    <createTable tableName="BATCH_JOB_INSTANCE">
      <column name="JOB_INSTANCE_ID" type="BIGINT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="VERSION" type="BIGINT"/>
      <column name="JOB_NAME" type="VARCHAR(100)">
        <constraints nullable="false"/>
      </column>
      <column name="JOB_KEY" type="VARCHAR(32)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-5">
    <createTable tableName="BATCH_JOB_PARAMS">
      <column name="JOB_INSTANCE_ID" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="TYPE_CD" type="VARCHAR(6)">
        <constraints nullable="false"/>
      </column>
      <column name="KEY_NAME" type="VARCHAR(100)">
        <constraints nullable="false"/>
      </column>
      <column name="STRING_VAL" type="VARCHAR(250)"/>
      <column name="DATE_VAL" type="DATETIME"/>
      <column name="LONG_VAL" type="BIGINT"/>
      <column name="DOUBLE_VAL" type="DOUBLE"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-6">
    <createTable tableName="BATCH_JOB_SEQ">
      <column name="ID" type="BIGINT">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-7">
    <createTable tableName="BATCH_STEP_EXECUTION">
      <column name="STEP_EXECUTION_ID" type="BIGINT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="VERSION" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="STEP_NAME" type="VARCHAR(100)">
        <constraints nullable="false"/>
      </column>
      <column name="JOB_EXECUTION_ID" type="BIGINT">
        <constraints nullable="false"/>
      </column>
      <column name="START_TIME" type="DATETIME">
        <constraints nullable="false"/>
      </column>
      <column name="END_TIME" type="DATETIME"/>
      <column name="STATUS" type="VARCHAR(10)"/>
      <column name="COMMIT_COUNT" type="BIGINT"/>
      <column name="READ_COUNT" type="BIGINT"/>
      <column name="FILTER_COUNT" type="BIGINT"/>
      <column name="WRITE_COUNT" type="BIGINT"/>
      <column name="READ_SKIP_COUNT" type="BIGINT"/>
      <column name="WRITE_SKIP_COUNT" type="BIGINT"/>
      <column name="PROCESS_SKIP_COUNT" type="BIGINT"/>
      <column name="ROLLBACK_COUNT" type="BIGINT"/>
      <column name="EXIT_CODE" type="VARCHAR(100)"/>
      <column name="EXIT_MESSAGE" type="VARCHAR(2500)"/>
      <column name="LAST_UPDATED" type="DATETIME"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-8">
    <createTable tableName="BATCH_STEP_EXECUTION_CONTEXT">
      <column name="STEP_EXECUTION_ID" type="BIGINT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="SHORT_CONTEXT" type="VARCHAR(2500)">
        <constraints nullable="false"/>
      </column>
      <column name="SERIALIZED_CONTEXT" type="TEXT"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-9">
    <createTable tableName="BATCH_STEP_EXECUTION_SEQ">
      <column name="ID" type="BIGINT">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="1303384038461-10">
    <addForeignKeyConstraint baseColumnNames="JOB_INSTANCE_ID" baseTableName="BATCH_JOB_EXECUTION" constraintName="JOB_INST_EXEC_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_INSTANCE_ID" referencedTableName="BATCH_JOB_INSTANCE"/>
  </changeSet>
  <changeSet author="ben" id="1303384038461-11">
    <addForeignKeyConstraint baseColumnNames="JOB_EXECUTION_ID" baseTableName="BATCH_JOB_EXECUTION_CONTEXT" constraintName="JOB_EXEC_CTX_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_EXECUTION_ID" referencedTableName="BATCH_JOB_EXECUTION"/>
  </changeSet>
  <changeSet author="ben" id="1303384038461-12">
    <addForeignKeyConstraint baseColumnNames="JOB_INSTANCE_ID" baseTableName="BATCH_JOB_PARAMS" constraintName="JOB_INST_PARAMS_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_INSTANCE_ID" referencedTableName="BATCH_JOB_INSTANCE"/>
  </changeSet>
  <changeSet author="ben" id="1303384038461-13">
    <addForeignKeyConstraint baseColumnNames="JOB_EXECUTION_ID" baseTableName="BATCH_STEP_EXECUTION" constraintName="JOB_EXEC_STEP_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_EXECUTION_ID" referencedTableName="BATCH_JOB_EXECUTION"/>
  </changeSet>
  <changeSet author="ben" id="1303384038461-14">
    <addForeignKeyConstraint baseColumnNames="STEP_EXECUTION_ID" baseTableName="BATCH_STEP_EXECUTION_CONTEXT" constraintName="STEP_EXEC_CTX_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="STEP_EXECUTION_ID" referencedTableName="BATCH_STEP_EXECUTION"/>
  </changeSet>
  <changeSet author="ben" id="1303384038461-15">
    <createIndex indexName="JOB_INST_EXEC_IDX" tableName="BATCH_JOB_EXECUTION" unique="false">
      <column name="JOB_INSTANCE_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-16">
    <createIndex indexName="JOB_EXECUTION_IDX" tableName="BATCH_JOB_EXECUTION" unique="true">
      <column name="JOB_EXECUTION_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-17">
    <createIndex indexName="JOB_EXECUTION_CONTEXT_IDX" tableName="BATCH_JOB_EXECUTION_CONTEXT" unique="true">
      <column name="JOB_EXECUTION_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-18">
    <createIndex indexName="JOB_INST_IDX" tableName="BATCH_JOB_INSTANCE" unique="true">
      <column name="JOB_NAME"/>
      <column name="JOB_KEY"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-19">
    <createIndex indexName="JOB_INSTANCE_IDX" tableName="BATCH_JOB_INSTANCE" unique="true">
      <column name="JOB_INSTANCE_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-20">
    <createIndex indexName="JOB_INST_PARAMS_IDX" tableName="BATCH_JOB_PARAMS" unique="false">
      <column name="JOB_INSTANCE_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-21">
    <createIndex indexName="JOB_EXEC_STEP_IDX" tableName="BATCH_STEP_EXECUTION" unique="false">
      <column name="JOB_EXECUTION_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-22">
    <createIndex indexName="STEP_EXECUTION_IDX" tableName="BATCH_STEP_EXECUTION" unique="true">
      <column name="STEP_EXECUTION_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-23">
    <createIndex indexName="STEP_EXECUTION_CONTEXT_IDX" tableName="BATCH_STEP_EXECUTION_CONTEXT" unique="true">
      <column name="STEP_EXECUTION_ID"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="1303384038461-24">
    <insert tableName="BATCH_STEP_EXECUTION_SEQ" >
      <column name="ID" valueNumeric="0"/>
    </insert>
  </changeSet>
  <changeSet author="ben" id="1303384038461-25">
    <insert tableName="BATCH_JOB_EXECUTION_SEQ" >
      <column name="ID" valueNumeric="0"/>
    </insert>
  </changeSet>
  <changeSet author="ben" id="1303384038461-26">
    <insert tableName="BATCH_JOB_SEQ" >
      <column name="ID" valueNumeric="0"/>
    </insert>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_1">
    <createTable tableName="Content">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="DTYPE" type="varchar(31)">
        <constraints nullable="false"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
      <column name="feature" type="varchar(255)"/>
      <column name="content" type="varchar(255)"/>
      <column name="taxon_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_2">
    <createTable tableName="Distribution">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
      <column name="region" type="varchar(255)"/>
      <column name="taxon_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_3">
    <createTable tableName="Image">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
      <column name="url" type="varchar(255)"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_4">
    <createTable tableName="Reference">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="DTYPE" type="varchar(31)">
        <constraints nullable="false"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_5">
    <createTable tableName="Taxon">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
      <column name="name" type="varchar(255)"/>
      <column name="accepted_id" type="bigint"/>
      <column name="parent_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_6">
    <createTable tableName="Taxon_Image">
      <column name="Taxon_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="images_id" type="bigint">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_7">
    <createTable tableName="Taxon_Reference">
      <column name="Taxon_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="references_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_8">
    <addForeignKeyConstraint constraintName="FK9BEFCC591EDCD08D" baseTableName="Content" baseColumnNames="taxon_id"
      referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_9">
    <createIndex tableName="Content" indexName="Content_taxon_id_IDX">
      <column name="taxon_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_10">
    <addForeignKeyConstraint constraintName="FKAB93A2A41EDCD08D" baseTableName="Distribution" baseColumnNames="taxon_id"
      referencedTableName="Taxon" referencedColumnNames="id" />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_11">
    <createIndex tableName="Distribution" indexName="Distribution_taxon_id_IDX">
      <column name="taxon_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_12">
    <addForeignKeyConstraint constraintName="FK4CD9EAA54493690" baseTableName="Taxon" baseColumnNames="accepted_id"
      referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_13">
    <createIndex tableName="Taxon" indexName="Taxon_accepted_id_IDX">
      <column name="accepted_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_14">
    <addForeignKeyConstraint constraintName="FK4CD9EAAA9E98AAD" baseTableName="Taxon" baseColumnNames="parent_id"
      referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_15">
    <createIndex tableName="Taxon" indexName="Taxon_parent_id_IDX">
      <column name="parent_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_16">
    <addForeignKeyConstraint constraintName="FK56D693661EDCD08D" baseTableName="Taxon_Image" baseColumnNames="Taxon_id"
      referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_17">
    <createIndex tableName="Taxon_Image" indexName="Taxon_Image_Taxon_id_IDX">
      <column name="Taxon_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_18">
    <addForeignKeyConstraint constraintName="FK56D69366437564A" baseTableName="Taxon_Image" baseColumnNames="images_id"
      referencedTableName="Image" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_19">
    <createIndex tableName="Taxon_Image" indexName="Taxon_Image_images_id_IDX">
      <column name="images_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_20">
    <addForeignKeyConstraint constraintName="FK164D2BD6968322D1" baseTableName="Taxon_Reference" baseColumnNames="references_id"
      referencedTableName="Reference" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_21">
    <createIndex tableName="Taxon_Reference" indexName="Taxon_Reference_references_id_IDX">
      <column name="references_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-05-25_22">
    <addForeignKeyConstraint constraintName="FK164D2BD61EDCD08D" baseTableName="Taxon_Reference" baseColumnNames="Taxon_id"
      referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-05-25_23">
    <createIndex tableName="Taxon_Reference" indexName="Taxon_Reference_Taxon_id_IDX">
      <column name="Taxon_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-06-22_1">
    <createTable tableName="logging_event">
      <column name="event_id" type="bigint" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="timestmp" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="formatted_message" type="text">
        <constraints nullable="false"/>
      </column>
      <column name="logger_name" type="varchar(254)">
        <constraints nullable="false"/>
      </column>
      <column name="level_string" type="varchar(254)">
        <constraints nullable="false"/>
      </column>
      <column name="thread_name" type="varchar(254)"/>
      <column name="reference_flag" type="smallint"/>
      <column name="arg0" type="varchar(254)"/>
      <column name="arg1" type="varchar(254)"/>
      <column name="arg2" type="varchar(254)"/>
      <column name="arg3" type="varchar(254)"/>
      <column name="caller_filename" type="varchar(254)">
        <constraints nullable="false"/>
      </column>
      <column name="caller_class" type="varchar(254)">
        <constraints nullable="false"/>
      </column>
      <column name="caller_method" type="varchar(254)">
        <constraints nullable="false"/>
      </column>
      <column name="caller_line" type="char(4)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-06-22_2">
    <createTable tableName="logging_event_property">
      <column name="event_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="mapped_key" type="varchar(254)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="mapped_value" type="text"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-06-22_3">
    <createTable tableName="logging_event_exception">
      <column name="event_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="i" type="smallint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="trace_line" type="varchar(254)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-06-22_4">
    <addForeignKeyConstraint constraintName="FK_logging_event_property_logging_event" baseTableName="logging_event_property" baseColumnNames="event_id"
      referencedTableName="logging_event" referencedColumnNames="event_id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-06-22_5">
    <addForeignKeyConstraint constraintName="FK_logging_event_exception_logging_event" baseTableName="logging_event_exception" baseColumnNames="event_id"
      referencedTableName="logging_event" referencedColumnNames="event_id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-07-28_1">
    <addColumn tableName="Taxon">
      <column name="authorship" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-07-28_2">
    <addColumn tableName="Taxon">
      <column name="basionymAuthorship" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-07-28_3">
    <addColumn tableName="Taxon">
      <column name="uninomial" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-07-28_4">
    <addColumn tableName="Taxon">
      <column name="genus" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-07-28_5">
    <addColumn tableName="Taxon">
      <column name="specificEpithet" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-07-28_6">
    <addColumn tableName="Taxon">
      <column name="infraspecificEpithet" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-07-28_7">
    <addColumn tableName="Taxon">
      <column name="rank" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_1">
    <addColumn tableName="Taxon">
      <column name="accordingTo" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_2">
    <addColumn tableName="Taxon">
      <column name="family" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_3">
    <addColumn tableName="Taxon">
      <column name="infraGenericEpithet" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_4">
    <addColumn tableName="Taxon">
      <column name="kingdom" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_5">
    <addColumn tableName="Taxon">
      <column name="nomenclaturalCode" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_6">
    <addColumn tableName="Taxon">
      <column name="ordr" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_7">
    <addColumn tableName="Taxon">
      <column name="phylum" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_8">
    <addColumn tableName="Taxon">
      <column name="status" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-12_9">
    <createTable tableName="Annotation">
      <column name="id" type="bigint" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="annotatedObjId" type="bigint"/>
      <column name="annotatedObjType" type="varchar(255)"/>
      <column name="code" type="varchar(255)"/>
      <column name="jobId" type="bigint"/>
      <column name="present" type="boolean" defaultValueBoolean="false">
        <constraints nullable="false"/>
      </column>
      <column name="text" type="varchar(255)"/>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-08-18_1">
    <modifyDataType tableName="Content" columnName="content" newDataType="longtext"/>
  </changeSet>
  <changeSet author="ben" id="2011-08-18_2">
    <modifyDataType tableName="Annotation" columnName="text" newDataType="longtext"/>
  </changeSet>
  <changeSet author="ben" id="2011-08-18_3">
    <addColumn tableName="Image">
      <column name="caption" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="jk00kg" id="2011-08-19_1">
    <addColumn tableName="Image">
      <column name="taxon_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_1">
    <addColumn tableName="Reference">
      <column name="datePublished" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_2">
    <addColumn tableName="Reference">
      <column name="pages" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_3">
    <addColumn tableName="Reference">
      <column name="title" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_4">
    <addColumn tableName="Reference">
      <column name="volume" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_5">
    <addColumn tableName="Reference">
      <column name="type" type="integer"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_7">
    <addColumn tableName="Taxon">
      <column name="protologue_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_8">
    <addForeignKeyConstraint baseColumnNames="protologue_id" baseTableName="Taxon" constraintName="FK4CD9EAACA0AED" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="Reference"/>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_9">
    <createIndex indexName="Taxon_protologue_IDX" tableName="Taxon" unique="false">
      <column name="protologue_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-08-26_10">
    <dropColumn tableName="Reference" columnName="DTYPE"/>
  </changeSet>
  <changeSet id="2011-08-31_1" author="ben">
    <addColumn tableName="Annotation">
      <column name="dateTime" type="integer"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-08-31_2" author="ben">
    <addColumn tableName="Annotation">
      <column name="type" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-08-31_3" author="ben">
    <addColumn tableName="Annotation">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-08-31_4" author="ben">
    <createTable tableName="Authority">
      <column name="id" type="bigint" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="name" type="varchar(255)"/>
      <column name="uri" type="varchar(255)"/>
    </createTable>
  </changeSet>
  <changeSet id="2011-08-31_5" author="ben">
    <createTable tableName="Content_Authority">
      <column name="Content_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="authorities_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="authorities_KEY" type="integer">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-08-31_6" author="ben">
    <createTable tableName="Distribution_Authority">
      <column name="Distribution_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="authorities_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="authorities_KEY" type="integer">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-08-31_7" author="ben">
    <createTable tableName="Image_Authority">
      <column name="Image_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="authorities_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="authorities_KEY" type="integer">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-08-31_8" author="ben">
    <createTable tableName="Reference_Authority">
      <column name="Reference_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="authorities_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="authorities_KEY" type="integer">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-08-31_9" author="ben">
    <createTable tableName="Taxon_Authority">
      <column name="Taxon_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="authorities_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="authorities_KEY" type="integer">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-08-31_10" author="ben">
    <addForeignKeyConstraint constraintName="FK35CA12BD59FA9B5F"
      referencedTableName="Content"
      baseColumnNames="Content_id"
      baseTableName="Content_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_11" author="ben">
    <addForeignKeyConstraint constraintName="FK35CA12BD2AFF4188"
      referencedTableName="Authority"
      baseColumnNames="authorities_id"
      baseTableName="Content_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_12" author="ben">
    <addForeignKeyConstraint constraintName="FK221AC748BFDB6E15"
      referencedTableName="Distribution"
      baseColumnNames="Distribution_id"
      baseTableName="Distribution_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_13" author="ben">
    <addForeignKeyConstraint constraintName="FK221AC7482AFF4188"
      referencedTableName="Authority"
      baseColumnNames="authorities_id"
      baseTableName="Distribution_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_14" author="ben">
    <addForeignKeyConstraint constraintName="FK7800CD1F544A087"
      referencedTableName="Image"
      baseColumnNames="Image_id"
      baseTableName="Image_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_15" author="ben">
    <addForeignKeyConstraint constraintName="FK7800CD1F2AFF4188"
      referencedTableName="Authority"
      baseColumnNames="authorities_id"
      baseTableName="Image_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_16" author="ben">
    <addForeignKeyConstraint constraintName="FK5B73C70F1914B32E"
      referencedTableName="Reference"
      baseColumnNames="Reference_id"
      baseTableName="Reference_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_17" author="ben">
    <addForeignKeyConstraint constraintName="FK5B73C70F2AFF4188"
      referencedTableName="Authority"
      baseColumnNames="authorities_id"
      baseTableName="Reference_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_18" author="ben">
    <addForeignKeyConstraint constraintName="FKA565F3CE1EDCD08D"
      referencedTableName="Taxon"
      baseColumnNames="Taxon_id"
      baseTableName="Taxon_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_19" author="ben">
    <addForeignKeyConstraint constraintName="FKA565F3CE2AFF4188"
      referencedTableName="Authority"
      baseColumnNames="authorities_id"
      baseTableName="Taxon_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_20" author="ben">
    <addForeignKeyConstraint constraintName="FK1A21C74F92954226"
      referencedTableName="Authority"
      baseColumnNames="authority_id"
      baseTableName="Annotation"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-08-31_21" author="ben">
    <insert tableName="Authority">
      <column name="id" valueNumeric="1"/>
      <column name="name" value="WCS"/>
      <column name="uri" value="http://apps.kew.org/wcsTaxonExtractor/oai"/>
    </insert>
  </changeSet>
  <changeSet id="2011-08-31_22" author="ben">
    <insert tableName="Authority">
      <column name="id" valueNumeric="2"/>
      <column name="name" value="PalmWeb"/>
      <column name="uri" value="http://www.palmweb.org/archive.zip"/>
    </insert>
  </changeSet>
  <changeSet id="2011-08-31_23" author="ben">
    <createTable tableName="Time">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="year" type="int(11)">
        <constraints nullable="false"/>
      </column>
      <column name="quarter" type="int(11)">
        <constraints nullable="false"/>
      </column>
      <column name="month" type="int(11)">
        <constraints nullable="false"/>
      </column>
      <column name="month_name" type="varchar(10)">
        <constraints nullable="false"/>
      </column>
      <column name="week" type="int(11)">
        <constraints nullable="false"/>
      </column>
      <column name="day" type="int(11)">
        <constraints nullable="false"/>
      </column>
      <column name="day_name" type="varchar(10)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-08-31_24" author="ben">
    <sql>
      DROP PROCEDURE IF EXISTS populateDate;
    </sql>
  </changeSet>
  <changeSet id="2011-08-31_25" author="ben">
    <createProcedure>
        CREATE PROCEDURE populateDate()
        BEGIN
          DECLARE dt DATE;
          SET @i = 0;
          REPEAT
            SET dt = adddate('2011-08-01',@i);
            INSERT INTO Time VALUES (datediff(dt,'2011-08-01'),year(dt),quarter(dt),month(dt),monthname(dt),week(dt),weekday(dt),dayname(dt));
            SET @i = @i + 1;
            UNTIL @i > 365
          END REPEAT;
        END;
    </createProcedure>
  </changeSet>
  <changeSet id="2011-08-31_26" author="ben">
    <sql>
      call populateDate();
    </sql>
  </changeSet>
  <changeSet id="2011-09-01_1" author="ben">
    <dropColumn tableName="Annotation" columnName="present"/>
  </changeSet>
  <changeSet id="2011-09-01_2" author="ben">
    <createTable tableName="Region">
      <column name="id" type="varchar(3)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="country" type="varchar(32)">
        <constraints nullable="false"/>
      </column>
      <column name="region" type="varchar(32)">
        <constraints nullable="false"/>
      </column>
      <column name="continent" type="varchar(16)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-09-04_1" author="ben">
    <addColumn tableName="Reference">
      <column name="author" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-04_2" author="ben">
    <addColumn tableName="Reference">
      <column name="citation" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-04_3" author="ben">
    <addColumn tableName="Reference">
      <column name="publishedIn" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-05_1" author="ben">
    <addColumn tableName="Content">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-05_2" author="ben">
    <addColumn tableName="Distribution">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-05_3" author="ben">
    <addColumn tableName="Image">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-05_4" author="ben">
    <addColumn tableName="Reference">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-05_5" author="ben">
    <addColumn tableName="Taxon">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-09-05_6" author="ben">
    <addForeignKeyConstraint constraintName="FK9BEFCC5992954226"
      referencedTableName="Authority"
      baseColumnNames="authority_id"
      baseTableName="Content"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-05_7" author="ben">
    <addForeignKeyConstraint constraintName="FKAB93A2A492954226"
      referencedTableName="Authority"
      baseColumnNames="authority_id"
      baseTableName="Distribution"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-05_8" author="ben">
    <addForeignKeyConstraint constraintName="FK437B93B92954226"
      referencedTableName="Authority"
      baseColumnNames="authority_id"
      baseTableName="Image"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-05_9" author="ben">
    <addForeignKeyConstraint constraintName="FK404D5F2B92954226"
      referencedTableName="Authority"
      baseColumnNames="authority_id"
      baseTableName="Reference"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-05_10" author="ben">
    <addForeignKeyConstraint constraintName="FK4CD9EAA92954226"
      referencedTableName="Authority"
      baseColumnNames="authority_id"
      baseTableName="Taxon"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-05_11" author="ben">
    <sql>
      update Content left join Content_Authority on (Content.id = Content_Authority.Content_id) set authority_id = Content_Authority.authorities_id where Content_Authority.authorities_KEY = 0;
    </sql>
  </changeSet>
  <changeSet id="2011-09-05_12" author="ben">
    <sql>
      update Distribution left join Distribution_Authority on (Distribution.id = Distribution_Authority.Distribution_id) set authority_id = Distribution_Authority.authorities_id where Distribution_Authority.authorities_KEY = 0;
    </sql>
  </changeSet>
  <changeSet id="2011-09-05_13" author="ben">
    <sql>
      update Image left join Image_Authority on (Image.id = Image_Authority.Image_id)  set authority_id = Image_Authority.authorities_id where Image_Authority.authorities_KEY = 0;
    </sql>
  </changeSet>
  <changeSet id="2011-09-05_14" author="ben">
    <sql>
      update Reference left join Reference_Authority on (Reference.id = Reference_Authority.Reference_id) set authority_id = Reference_Authority.authorities_id where Reference_Authority.authorities_KEY = 0;
    </sql>
  </changeSet>
  <changeSet id="2011-09-05_15" author="ben">
    <sql>
      update Taxon left join Taxon_Authority on (Taxon.id = Taxon_Authority.Taxon_id) set authority_id = Taxon_Authority.authorities_id where Taxon_Authority.authorities_KEY = 0;
    </sql>
  </changeSet>
  <changeSet id="2011-09-05_16" author="ben">
    <dropColumn tableName="Content_Authority" columnName="authorities_KEY"/>
  </changeSet>
  <changeSet id="2011-09-05_17" author="ben">
    <dropColumn tableName="Distribution_Authority" columnName="authorities_KEY"/>
  </changeSet>
  <changeSet id="2011-09-05_18" author="ben">
    <dropColumn tableName="Image_Authority" columnName="authorities_KEY"/>
  </changeSet>
  <changeSet id="2011-09-05_19" author="ben">
    <dropColumn tableName="Reference_Authority" columnName="authorities_KEY"/>
  </changeSet>
  <changeSet id="2011-09-05_20" author="ben">
    <dropColumn tableName="Taxon_Authority" columnName="authorities_KEY"/>
  </changeSet>
  <changeSet id="2011-09-05_21" author="ben">
    <dropForeignKeyConstraint constraintName="FK35CA12BD59FA9B5F"
      baseTableName="Content_Authority"/>
  </changeSet>
  <changeSet id="2011-09-05_22" author="ben">
    <dropForeignKeyConstraint constraintName="FK221AC748BFDB6E15"
      baseTableName="Distribution_Authority"/>
  </changeSet>
  <changeSet id="2011-09-05_23" author="ben">
    <dropForeignKeyConstraint constraintName="FK7800CD1F544A087"
      baseTableName="Image_Authority"/>
  </changeSet>
  <changeSet id="2011-09-05_24" author="ben">
    <dropForeignKeyConstraint constraintName="FK5B73C70F1914B32E"
      baseTableName="Reference_Authority"/>
  </changeSet>
  <changeSet id="2011-09-05_25" author="ben">
    <dropForeignKeyConstraint constraintName="FKA565F3CE1EDCD08D"
      baseTableName="Taxon_Authority"/>
  </changeSet>
  <changeSet id="2011-09-06_1" author="ben">
    <dropPrimaryKey tableName="Content_Authority"/>
  </changeSet>
  <changeSet id="2011-09-06_2" author="ben">
    <dropPrimaryKey tableName="Distribution_Authority"/>
  </changeSet>
  <changeSet id="2011-09-06_3" author="ben">
    <dropPrimaryKey tableName="Image_Authority"/>
  </changeSet>
  <changeSet id="2011-09-06_4" author="ben">
    <dropPrimaryKey tableName="Reference_Authority"/>
  </changeSet>
  <changeSet id="2011-09-06_5" author="ben">
    <dropPrimaryKey tableName="Taxon_Authority"/>
  </changeSet>
  <changeSet id="2011-09-06_6" author="ben">
    <addPrimaryKey tableName="Content_Authority" columnNames="Content_id,authorities_id"/>
  </changeSet>
  <changeSet id="2011-09-06_7" author="ben">
    <addPrimaryKey tableName="Distribution_Authority" columnNames="Distribution_id,authorities_id"/>
  </changeSet>
  <changeSet id="2011-09-06_8" author="ben">
    <addPrimaryKey tableName="Image_Authority" columnNames="Image_id,authorities_id"/>
  </changeSet>
  <changeSet id="2011-09-06_9" author="ben">
    <addPrimaryKey tableName="Reference_Authority" columnNames="Reference_id,authorities_id"/>
  </changeSet>
  <changeSet id="2011-09-06_10" author="ben">
    <addPrimaryKey tableName="Taxon_Authority" columnNames="Taxon_id,authorities_id"/>
  </changeSet>
  <changeSet id="2011-09-19_01" author="ben">
    <addForeignKeyConstraint constraintName="FK35CA12BD59FA9B5F"
      referencedTableName="Content"
      baseColumnNames="Content_id"
      baseTableName="Content_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-19_02" author="ben">
    <addForeignKeyConstraint constraintName="FK221AC748BFDB6E15"
      referencedTableName="Distribution"
      baseColumnNames="Distribution_id"
      baseTableName="Distribution_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-19_03" author="ben">
    <addForeignKeyConstraint constraintName="FK7800CD1F544A087"
      referencedTableName="Image"
      baseColumnNames="Image_id"
      baseTableName="Image_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-19_04" author="ben">
    <addForeignKeyConstraint constraintName="FK5B73C70F1914B32E"
      referencedTableName="Reference"
      baseColumnNames="Reference_id"
      baseTableName="Reference_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-09-19_05" author="ben">
    <addForeignKeyConstraint constraintName="FKA565F3CE1EDCD08D"
      referencedTableName="Taxon"
      baseColumnNames="Taxon_id"
      baseTableName="Taxon_Authority"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-07_01a" author="ben">
    <dropForeignKeyConstraint baseTableName="Annotation" constraintName="FK1A21C74F92954226"/>
  </changeSet>
  <changeSet id="2011-10-07_01b" author="ben">
    <renameColumn tableName="Annotation" oldColumnName="authority_id" newColumnName="source_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2011-10-07_02a" author="ben">
    <renameTable newTableName="Source" oldTableName="Authority"/>
  </changeSet>
  <changeSet id="2011-10-07_02b" author="ben">
    <addForeignKeyConstraint constraintName="FK1A21C74F92954226"
      referencedTableName="Source"
      baseColumnNames="source_id"
      baseTableName="Annotation"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-07_03" author="ben">
    <renameTable oldTableName="Content_Authority" newTableName="Content_Source"/>
  </changeSet>
  <changeSet id="2011-10-07_04" author="ben">
    <renameTable oldTableName="Distribution_Authority" newTableName="Distribution_Source"/>
  </changeSet>
  <changeSet id="2011-10-07_05" author="ben">
    <renameTable oldTableName="Image_Authority" newTableName="Image_Source"/>
  </changeSet>
  <changeSet id="2011-10-07_06" author="ben">
    <renameTable oldTableName="Reference_Authority" newTableName="Reference_Source"/>
  </changeSet>
  <changeSet id="2011-10-07_07" author="ben">
    <renameTable oldTableName="Taxon_Authority" newTableName="Taxon_Source"/>
  </changeSet>
  <changeSet id="2011-10-07_08a" author="ben">
    <dropForeignKeyConstraint baseTableName="Content_Source" constraintName="FK35CA12BD2AFF4188"/>
  </changeSet>
  <changeSet id="2011-10-07_08b" author="ben">
    <renameColumn tableName="Content_Source" oldColumnName="authorities_id" newColumnName="sources_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2011-10-07_08c" author="ben">
    <addForeignKeyConstraint constraintName="FK35CA12BD2AFF4188"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="Content_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-07_09a" author="ben">
    <dropForeignKeyConstraint baseTableName="Distribution_Source" constraintName="FK221AC7482AFF4188"/>
  </changeSet>
  <changeSet id="2011-10-07_09b" author="ben">
    <renameColumn tableName="Distribution_Source" oldColumnName="authorities_id" newColumnName="sources_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2011-10-07_09c" author="ben">
    <addForeignKeyConstraint constraintName="FK221AC7482AFF4188"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="Distribution_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-07_10a" author="ben">
    <dropForeignKeyConstraint baseTableName="Image_Source" constraintName="FK7800CD1F2AFF4188"/>
  </changeSet>
  <changeSet id="2011-10-07_10b" author="ben">
    <renameColumn tableName="Image_Source" oldColumnName="authorities_id" newColumnName="sources_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2011-10-07_10c" author="ben">
    <addForeignKeyConstraint constraintName="FK7800CD1F2AFF4188"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="Image_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-07_11a" author="ben">
    <dropForeignKeyConstraint baseTableName="Reference_Source" constraintName="FK5B73C70F2AFF4188"/>
  </changeSet>
  <changeSet id="2011-10-07_11b" author="ben">
    <renameColumn tableName="Reference_Source" oldColumnName="authorities_id" newColumnName="sources_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2011-10-07_11c" author="ben">
    <addForeignKeyConstraint constraintName="FK5B73C70F2AFF4188"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="Reference_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-07_12a" author="ben">
    <dropForeignKeyConstraint baseTableName="Taxon_Source" constraintName="FKA565F3CE2AFF4188"/>
  </changeSet>
  <changeSet id="2011-10-07_12b" author="ben">
    <renameColumn tableName="Taxon_Source" oldColumnName="authorities_id" newColumnName="sources_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2011-10-07_12c" author="ben">
    <addForeignKeyConstraint constraintName="FKA565F3CE2AFF4188"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="Taxon_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-07_13" author="ben">
    <createTable tableName="Principal">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="DTYPE" type="varchar(31)">
        <constraints nullable="false"/>
      </column>
      <column name="created" type="timestamp"/>
      <column name="identifier" type="varchar(255)">
        <constraints unique="true"/>
      </column>
      <column name="modified" type="timestamp"/>
      <column name="accountNonExpired" type="boolean"/>
      <column name="accountNonLocked" type="boolean"/>
      <column name="credentialsNonExpired" type="boolean"/>
      <column name="enabled" type="boolean"/>
      <column name="password" type="varchar(255)"/>
    </createTable>
  </changeSet>
  <changeSet id="2011-10-07_14" author="ben">
    <createTable tableName="User_permissions">
      <column name="User_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="permissions" type="integer"/>
    </createTable>
  </changeSet>
  <changeSet id="2011-10-07_15" author="ben">
    <addForeignKeyConstraint constraintName="FKB4582A309E0AAB54"
      referencedTableName="Principal"
      baseColumnNames="User_id"
      baseTableName="User_permissions"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-10_01" author="ben">
    <createTable tableName="Group_permissions">
      <column name="Group_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="permissions" type="integer"/>
    </createTable>
  </changeSet>
  <changeSet id="2011-10-10_02" author="ben">
    <addForeignKeyConstraint constraintName="FK7A63C2A45090CB20"
      referencedTableName="Principal"
      baseColumnNames="Group_id"
      baseTableName="Group_permissions"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-10_03" author="ben">
    <createTable tableName="User_Group">
      <column name="User_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="groups_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-10-10_04" author="ben">
    <addForeignKeyConstraint constraintName="FKE7B7ED0B9E0AAB54"
      referencedTableName="Principal"
      baseColumnNames="User_id"
      baseTableName="User_Group"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-10_05" author="ben">
    <addForeignKeyConstraint constraintName="FKE7B7ED0BDA0BABAB"
      referencedTableName="Principal"
      baseColumnNames="groups_id"
      baseTableName="User_Group"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-11_01" author="ben">
    <modifyDataType tableName="Principal" columnName="created" newDataType="datetime"/>
  </changeSet>
  <changeSet id="2011-10-11_02" author="ben">
    <modifyDataType tableName="Principal" columnName="modified" newDataType="datetime"/>
  </changeSet>
  <changeSet id="2011-10-11_03" author="ben">
    <insert tableName="Principal">
      <column name="id" valueNumeric="1"/>
      <column name="DTYPE" value="Group"/>
      <column name="identifier" value="administrators"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_04" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="0"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_05" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="1"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_06" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="2"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_07" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="3"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_08" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="4"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_09" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="5"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_10" author="ben">
    <insert tableName="Principal">
      <column name="id" valueNumeric="2"/>
      <column name="DTYPE" value="User"/>
      <column name="identifier" value="test@e-monocot.org"/>
      <column name="accountNonExpired" valueNumeric="1"/>
      <column name="accountNonLocked" valueNumeric="1"/>
      <column name="credentialsNonExpired" valueNumeric="1"/>
      <column name="enabled" valueNumeric="1"/>
      <column name="password" value="ada198e0c75ddbc7522da986598e57de"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-11_11" author="ben">
    <insert tableName="User_Group">
      <column name="User_id" valueNumeric="2"/>
      <column name="groups_id" valueNumeric="1"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-14_01" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="6"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-14_02" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="7"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-14_03" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="8"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-14_04" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="9"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-18_01" author="annapaola">
    <renameColumn tableName="Source" oldColumnName="name" newColumnName="identifier" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2011-10-19_01" author="ben">
    <insert tableName="Source">
      <column name="id" valueNumeric="3"/>
      <column name="identifier" value="CATE-Araceae"/>
      <column name="uri" value="http://www.cate-araceae.org/checklist.zip"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-20_01" author="ben">
    <addColumn tableName="Taxon">
      <column name="protologueMicroReference" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-25_01" author="ben">
    <addColumn tableName="Annotation">
      <column name="identifier" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-25_02" author="ben">
    <sql>update Annotation set identifier = UUID() where identifier is null</sql>
  </changeSet>
  <changeSet id="2011-10-27_01" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="10"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-27_02" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="11"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-27_03" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="12"/>
    </insert>
  </changeSet>
  <changeSet id="2011-10-27_04" author="ben">
    <addColumn tableName="Source">
      <column name="created" type="datetime"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-27_05" author="ben">
    <addColumn tableName="Source">
      <column name="creator" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-27_06" author="ben">
    <addColumn tableName="Source">
      <column name="license" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-27_07" author="ben">
    <addColumn tableName="Source">
      <column name="modified" type="datetime"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-27_08" author="ben">
    <addColumn tableName="Source">
      <column name="source" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-27_09" author="ben">
    <addColumn tableName="Source">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-10-27_10" author="ben">
    <createTable tableName="Source_Source">
      <column name="Source_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="sources_id" type="bigint">
        <constraints nullable="false"  primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2011-10-27_11" author="ben">
    <addForeignKeyConstraint constraintName="FK1A21C74F92954237"
      referencedTableName="Source"
      baseColumnNames="authority_id"
      baseTableName="Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-27_12" author="ben">
    <addForeignKeyConstraint constraintName="FK1A21D74F92954237"
      referencedTableName="Source"
      baseColumnNames="Source_id"
      baseTableName="Source_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-10-27_13" author="ben">
    <addForeignKeyConstraint constraintName="FK1A21F74F92954237"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="Source_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2011-11-04_01" author="ben">
    <renameTable newTableName="TextContent" oldTableName="Content"/>
  </changeSet>
  <changeSet id="2011-11-04_02" author="ben">
    <renameTable newTableName="TextContent_Source" oldTableName="Content_Source"/>
  </changeSet>
  <changeSet id="2011-11-04_03" author="ben">
    <renameColumn tableName="TextContent_Source" oldColumnName="Content_id" columnDataType="bigint" newColumnName="TextContent_id"/>
  </changeSet>
  <changeSet id="2011-11-04_04" author="ben">
    <dropColumn tableName="TextContent" columnName="DTYPE"/>
  </changeSet>
  <changeSet id="2011-11-09_01" author="ben">
    <sql>
      UPDATE BATCH_JOB_PARAMS SET STRING_VAL = "WCS" WHERE STRING_VAL = "1";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_02" author="ben">
    <addColumn tableName="Annotation">
      <column name="recordType" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-11-09_03" author="ben">
    <addColumn tableName="Annotation">
      <column name="value" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-11-09_04" author="ben">
    <sql>
      UPDATE Annotation SET recordType = annotatedObjType;
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_05" author="ben">
    <sql>
      UPDATE Annotation SET annotatedObjType = NULL where annotatedObjId is NULL;
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_06" author="ben">
    <sql>
      UPDATE Annotation SET value = code where code in ("rank","related");
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_07" author="ben">
    <sql>
      UPDATE Annotation SET value = substring(text,40) where code = "UNEXPECTEDTAXONEXCEPTION";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_08" author="ben">
    <sql>
      UPDATE Annotation SET value = substring(substring(text,7),1,instr(substring(text,7)," ")) where code = "TAXONALREADYPROCESSEDEXCEPTION";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_09" author="ben">
    <sql>
      UPDATE Annotation SET value = substring(text,37) where code = "CANNOTFINDRECORDEXCEPTION";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_10" author="ben">
    <sql>
      UPDATE Annotation SET code = "BadField" where code in ("rank","related");
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_11" author="ben">
    <sql>
      UPDATE Annotation SET code = "Update" WHERE code = "Updated";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_12" author="ben">
    <sql>
      UPDATE Annotation SET code = "Create" WHERE code = "Created";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_13" author="ben">
    <sql>
      UPDATE Annotation SET code = "Unexpected" WHERE code = "UNEXPECTEDTAXONEXCEPTION";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_14" author="ben">
    <sql>
      UPDATE Annotation SET code = "BadIdentifier" WHERE code = "CANNOTFINDRECORDEXCEPTION";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_15" author="ben">
    <sql>
      UPDATE Annotation SET code = "BadRecord" WHERE code = "FlatFileParseException";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_16" author="ben">
    <sql>
      UPDATE Annotation SET code = "Present" WHERE type = "Present";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_17" author="ben">
    <sql>
      UPDATE Annotation SET code = "Absent" WHERE type = "Absent";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_18" author="ben">
    <sql>
      UPDATE Annotation SET type = "Info" WHERE type = "Create";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_19" author="ben">
    <sql>
      UPDATE Annotation SET type = "Info" WHERE type = "Update";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_20" author="ben">
    <sql>
      UPDATE Annotation SET type = "Info" WHERE type = "Present";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_21" author="ben">
    <sql>
      UPDATE Annotation SET type = "Warn" WHERE type = "Absent";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_22" author="ben">
    <sql>
      UPDATE Annotation SET type = "Warn" WHERE type = "Unexpected";
    </sql>
  </changeSet>
  <changeSet id="2011-11-09_23" author="ben">
    <sql>
      UPDATE Annotation SET code = "AlreadyProcessed" WHERE code = "TAXONALREADYPROCESSEDEXCEPTION";
    </sql>
  </changeSet>
  <changeSet id="2011-11-11_01" author="ben">
    <addColumn tableName="Image">
      <column name="image_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-11-11_02" author="ben">
    <addColumn tableName="Taxon">
      <column name="image_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-11-11_03">
    <addForeignKeyConstraint constraintName="FKAB93B2A41EDCD08D" baseTableName="Image" baseColumnNames="image_id"
      referencedTableName="Image" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2011-11-11_04">
    <addForeignKeyConstraint constraintName="FKAB93B2A41EDCD08E" baseTableName="Taxon" baseColumnNames="image_id"
      referencedTableName="Image" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2011-11-11_05" author="ben">
    <sql>
      UPDATE Taxon join Taxon_Image on (Taxon.id = Taxon_Image.Taxon_id) SET Taxon.image_id = Taxon_Image.images_id;
    </sql>
  </changeSet>
  <changeSet id="2011-11-15_01" author="ben">
    <createIndex tableName="Taxon" indexName="Taxon_identifier_IDX" unique="true">
      <column name="identifier"/>
    </createIndex>
  </changeSet>
  <changeSet id="2011-11-15_02" author="ben">
    <createIndex tableName="Image" indexName="Image_identifier_IDX" unique="true">
      <column name="identifier"/>
    </createIndex>
  </changeSet>
  <changeSet id="2011-11-15_03" author="ben">
    <createIndex tableName="Source" indexName="Source_identifier_IDX" unique="true">
      <column name="identifier"/>
    </createIndex>
  </changeSet>
  <changeSet id="2011-11-15_04" author="ben">
    <sql>
      Update Annotation set recordType = "Taxon" where recordType is NULL;
    </sql>
  </changeSet>
  <changeSet id="2011-11-15_05" author="ben">
    <sql>
      UPDATE Taxon SET Taxon.accepted_id = NULL where Taxon.accepted_id = Taxon.id;
    </sql>
  </changeSet>
  <changeSet id="2011-11-15_06" author="ben">
    <sql>
      UPDATE Taxon SET Taxon.status = 'accepted' where Taxon.accepted_id is null;
    </sql>
  </changeSet>
  <changeSet id="2011-11-15_07" author="ben">
    <sql>
      UPDATE Taxon SET Taxon.status = 'synonym' where Taxon.accepted_id is not null;
    </sql>
  </changeSet>
  <changeSet id="2011-11-21_01" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="13"/>
    </insert>
  </changeSet>
  <changeSet id="2011-11-21_02" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="14"/>
    </insert>
  </changeSet>
  <changeSet id="2011-11-21_03" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="15"/>
    </insert>
  </changeSet>
  <changeSet id="2011-11-21_04" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="16"/>
    </insert>
  </changeSet>
  <changeSet id="2011-11-21_05" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="17"/>
    </insert>
  </changeSet>
  <changeSet id="2011-11-21_06" author="ben">
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="18"/>
    </insert>
  </changeSet>
  <changeSet id="2011-11-26_01" author="ben">
    <sql>
      UPDATE Taxon SET Taxon.parent_id = NULL where Taxon.accepted_id is not NULL;
    </sql>
  </changeSet>
  <changeSet author="ben" id="2011-11-26_02">
    <addColumn tableName="Image">
      <column name="description" type="longtext"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-11-26_03">
    <addColumn tableName="Image">
      <column name="format" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-11-26_04">
    <addColumn tableName="Image">
      <column name="keywords" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-11-26_05">
    <addColumn tableName="Image">
      <column name="locality" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-11-26_06">
    <addColumn tableName="Image">
      <column name="location" type="GEOMETRY"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-11-28_01" author="ben">
    <sql>
      UPDATE Image SET Image.format = 'jpg';
    </sql>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_01">
    <createTable tableName="acl_sid">
      <column name="id" type="bigint(20)" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="principal" type="tinyint(1)">
        <constraints nullable="false"/>
      </column>
      <column name="sid" type="varchar(100)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_02">
    <createIndex indexName="acl_sid_idx" tableName="acl_sid" unique="true">
      <column name="sid"/>
      <column name="principal"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_03">
    <createTable tableName="acl_class">
      <column name="id" type="bigint(20)" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="class" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="sid" type="varchar(100)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_04">
    <createIndex indexName="acl_class_idx" tableName="acl_class" unique="true">
      <column name="class"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_05">
    <createTable tableName="acl_entry">
      <column name="id" type="bigint(20)" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="acl_object_identity" type="bigint(20)">
        <constraints nullable="false"/>
      </column>
      <column name="ace_order" type="int(11)">
        <constraints nullable="false"/>
      </column>
      <column name="sid" type="bigint(20)">
        <constraints nullable="false"/>
      </column>
      <column name="mask" type="int(11)">
        <constraints nullable="false"/>
      </column>
      <column name="granting" type="tinyint(1)">
        <constraints nullable="false"/>
      </column>
      <column name="audit_success" type="tinyint(1)">
        <constraints nullable="false"/>
      </column>
      <column name="audit_failure" type="tinyint(1)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_06">
    <createIndex indexName="acl_entry_idx" tableName="acl_entry" unique="true">
      <column name="acl_object_identity"/>
      <column name="ace_order"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_07">
    <createTable tableName="acl_object_identity">
      <column name="id" type="bigint(20)" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="object_id_class" type="bigint(20)">
        <constraints nullable="false"/>
      </column>
      <column name="object_id_identity" type="bigint(20)">
        <constraints nullable="false"/>
      </column>
      <column name="parent_object" type="bigint(20)">
        <constraints nullable="false"/>
      </column>
      <column name="owner_sid" type="bigint(20)">
        <constraints nullable="false"/>
      </column>
      <column name="entries_inheriting" type="tinyint(1)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_08">
    <createIndex indexName="acl_object_identity_idx" tableName="acl_object_identity" unique="true">
      <column name="object_id_class"/>
      <column name="object_id_identity"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_09">
    <addForeignKeyConstraint constraintName="acl_entry_object_identity_fk" baseColumnNames="acl_object_identity" baseTableName="acl_entry" referencedColumnNames="id" referencedTableName="acl_object_identity"/>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_10">
    <addForeignKeyConstraint constraintName="acl_entry_sid_fk" baseColumnNames="sid" baseTableName="acl_entry" referencedColumnNames="id" referencedTableName="acl_sid"/>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_11">
    <addForeignKeyConstraint constraintName="acl_object_identity_object_identity_fk" baseColumnNames="parent_object" baseTableName="acl_object_identity" referencedColumnNames="id" referencedTableName="acl_object_identity"/>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_12">
    <addForeignKeyConstraint constraintName="acl_object_identity_class_fk" baseColumnNames="object_id_class" baseTableName="acl_object_identity" referencedColumnNames="id" referencedTableName="acl_class"/>
  </changeSet>
  <changeSet author="ben" id="2011-12-02_13">
    <addForeignKeyConstraint constraintName="acl_object_identity_sid_fk" baseColumnNames="owner_sid" baseTableName="acl_object_identity" referencedColumnNames="id" referencedTableName="acl_sid"/>
  </changeSet>
  <changeSet author="ben" id="2011-12-09_01">
    <dropColumn tableName="acl_class" columnName="sid"/>
  </changeSet>
  <changeSet author="ben" id="2011-12-09_02">
    <dropNotNullConstraint tableName="acl_object_identity" columnName="parent_object" columnDataType="bigint(20)"/>
  </changeSet>
  <changeSet id="2011-13-13_01" author="ben">
    <comment>Added PERMISSION_ADMINISTRATE to the admin group</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="19"/>
    </insert>
  </changeSet>
  <changeSet id="2011-12-16_01" author="ben">
    <comment>Added PERMISSION_WRITE_GROUP to the admin group</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="20"/>
    </insert>
  </changeSet>
  <changeSet id="2011-12-19_01" author="ben">
    <comment>Implemented changes required for bug #141 Harvest details about Source from DwC Archive</comment>
    <addColumn tableName="Source">
      <column name="creatorEmail" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-19_02" author="ben">
    <comment>Implemented changes required for bug #141 Harvest details about Source from DwC Archive</comment>
    <addColumn tableName="Source">
      <column name="description" type="longtext"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-19_03" author="ben">
    <comment>Implemented changes required for bug #141 Harvest details about Source from DwC Archive</comment>
    <addColumn tableName="Source">
      <column name="logoUrl" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-19_04" author="ben">
    <comment>Implemented changes required for bug #141 Harvest details about Source from DwC Archive</comment>
    <addColumn tableName="Source">
      <column name="publisherName" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-19_05" author="ben">
    <comment>Implemented changes required for bug #141 Harvest details about Source from DwC Archive</comment>
    <addColumn tableName="Source">
      <column name="publisherEmail" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-19_06" author="ben">
    <comment>Implemented changes required for bug #141 Harvest details about Source from DwC Archive</comment>
    <addColumn tableName="Source">
      <column name="subject" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-19_07" author="ben">
    <comment>Implemented changes required for bug #141 Harvest details about Source from DwC Archive</comment>
    <addColumn tableName="Source">
      <column name="title" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-20_01" author="ben">
    <comment>Implemented changes required for bug #54 Process References File</comment>
    <addColumn tableName="Reference">
      <column name="number" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-20_02" author="ben">
    <comment>Implemented changes required for bug #54 Process References File</comment>
    <addColumn tableName="Reference">
      <column name="referenceAbstract" type="longtext"/>
    </addColumn>
  </changeSet>
  <changeSet id="2011-12-20_03" author="ben">
    <comment>Implemented changes required for bug #54 Process References File</comment>
    <addColumn tableName="Reference">
      <column name="keywords" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2011-12-21_01">
    <comment>Implemented changes required for bug #54 Process References File - adding references to text content</comment>
    <createTable tableName="TextContent_Reference">
      <column name="TextContent_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="references_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2011-12-21_02">
    <comment>Implemented changes required for bug #54 Process References File - adding references to text content</comment>
    <addForeignKeyConstraint constraintName="TextContent_Reference_TextContent_fk" baseColumnNames="TextContent_id" baseTableName="TextContent_Reference" referencedColumnNames="id" referencedTableName="TextContent"/>
  </changeSet>
  <changeSet author="ben" id="2011-12-21_03">
    <comment>Implemented changes required for bug #54 Process References File - adding references to text content</comment>
    <addForeignKeyConstraint constraintName="TextContent_Reference_Reference_fk" baseColumnNames="references_id" baseTableName="TextContent_Reference" referencedColumnNames="id" referencedTableName="Reference"/>
  </changeSet>
  <changeSet author="ben" id="2012-01-23_01">
    <comment>Implemented changes required for bug #118 Display Related References for a taxon on the taxon page</comment>
    <addColumn tableName="Reference">
      <column name="publisher" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2012-01-24_01">
    <comment>Implemented changes required for bug #118 Display Related References for a taxon on the taxon page</comment>
    <addColumn tableName="Reference">
      <column name="publishedInAuthor" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-01-25_01" author="ben">
    <comment>Add grassbase as an authority</comment>
    <insert tableName="Source">
      <column name="id" valueNumeric="4"/>
      <column name="identifier" value="GrassBase"/>
    </insert>
  </changeSet>
  <changeSet id="2012-01-30_01" author="ben">
    <comment>Sorting out problems in UAT relating to taxonomic status</comment>
    <sql>
      UPDATE Taxon SET status = 'unplaced', accepted_id = NULL WHERE status IS NULL AND accepted_id = 182076;
    </sql>
  </changeSet>
  <changeSet id="2012-01-30_02" author="ben">
    <comment>Sorting out problems in UAT relating to taxonomic status</comment>
    <sql>
      DELETE FROM Taxon WHERE id = 182076;
    </sql>
  </changeSet>
  <changeSet id="2012-01-30_03" author="ben">
    <comment>Sorting out problems in UAT relating to taxonomic status</comment>
    <sql>
      UPDATE Taxon SET status = 'synonym' WHERE status IS NULL AND accepted_id IS NOT NULL and parent_id IS NULL;
    </sql>
  </changeSet>
  <changeSet id="2012-01-30_04" author="ben">
    <comment>Sorting out problems in UAT relating to taxonomic status</comment>
    <sql>
      UPDATE Taxon SET status = 'accepted' WHERE status IS NULL AND accepted_id IS NULL and parent_id IS NOT NULL;
    </sql>
  </changeSet>
  <changeSet id="2012-02-01_01" author="ben">
    <comment>Sorting out problems in UAT relating to taxonomic status</comment>
    <sql>
      UPDATE Taxon SET accepted_id = NULL where accepted_id = 182076;
    </sql>
  </changeSet>
  <changeSet id="2012-02-01_02" author="ben">
    <comment>Sorting duplicate images in the cate-araceae dataset</comment>
    <sql>
        UPDATE Taxon_Image SET images_id = 3486 WHERE Taxon_id = 111 AND images_id = 3739;
        UPDATE Taxon_Image SET images_id = 3410 WHERE Taxon_id = 115 AND images_id = 3623;
        UPDATE Taxon_Image SET images_id = 3886 WHERE Taxon_id = 4221 AND images_id = 3480;
        UPDATE Taxon_Image SET images_id = 3757 WHERE Taxon_id = 3569 AND images_id = 3961;
        DELETE FROM Image WHERE id = 3739;
        DELETE FROM Image WHERE id = 3623; 
        DELETE FROM Image WHERE id = 3480; 
        DELETE FROM Image WHERE id = 3961;  
    </sql>
  </changeSet>
  <changeSet id="2012-02-07_01" author="ben">
    <comment>Added nameIdentifier to taxon</comment>
    <addColumn tableName="Taxon">
      <column name="nameIdentifier" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-02-07_02" author="ben">
    <comment>Added class to taxon</comment>
    <addColumn tableName="Taxon">
      <column name="class" type="varchar(128)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-02-08_01" author="ben">
    <comment>Add eMonocot as an authority</comment>
    <insert tableName="Source">
      <column name="id" valueNumeric="5"/>
      <column name="identifier" value="eMonocot"/>
    </insert>
  </changeSet>
  <changeSet id="2012-02-20_01" author="ben">
    <comment>Added Identifier object as part of #139: Link to the PDF of the original description on a taxon page</comment>
    <createTable tableName="Identifier">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
      <column name="content" type="longtext"/>
      <column name="subject" type="varchar(255)"/>
      <column name="format" type="varchar(255)"/>
      <column name="title" type="varchar(255)"/>
      <column name="authority_id" type="bigint"/>
      <column name="taxon_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-02-20_02" author="ben">
    <comment>Added Identifier object as part of #139: Link to the PDF of the original description on a taxon page</comment>
    <createTable tableName="Identifier_Source">
      <column name="Identifier_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="sources_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-02-20_03" author="ben">
    <comment>Added Identifier object as part of #139: Link to the PDF of the original description on a taxon page</comment>
    <addForeignKeyConstraint constraintName="FK165A88C96B53D29C" referencedTableName="Source" baseColumnNames="authority_id" baseTableName="Identifier" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-02-20_04" author="ben">
    <comment>Added Identifier object as part of #139: Link to the PDF of the original description on a taxon page</comment>
    <addForeignKeyConstraint constraintName="FK165A88C9351368A7" referencedTableName="Taxon" baseColumnNames="taxon_id" baseTableName="Identifier" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-02-20_05" author="ben">
    <comment>Added Identifier object as part of #139: Link to the PDF of the original description on a taxon page</comment>
    <addForeignKeyConstraint constraintName="FK556E0471A0863E36" referencedTableName="Identifier" baseColumnNames="Identifier_id" baseTableName="Identifier_Source" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-02-20_06" author="ben">
    <comment>Added Identifier object as part of #139: Link to the PDF of the original description on a taxon page</comment>
    <addForeignKeyConstraint constraintName="FK556E0471F247EE07" referencedTableName="Source" baseColumnNames="sources_id" baseTableName="Identifier_Source" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-03-20_01" author="ben">
    <comment>Added Job object as part of #240: As an administrative user, I would like to list and create harvesting jobs</comment>
    <createTable tableName="Job">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="identifier" type="varchar(255)"/>
      <column name="duration" type="datetime"/>
      <column name="exitDescription" type="longtext"/>
      <column name="exitCode" type="varchar(255)"/>
      <column name="jobId" type="integer"/>
      <column name="jobInstance" type="varchar(255)"/>
      <column name="jobType" type="varchar(255)"/>
      <column name="lastHarvested" type="datetime"/>
      <column name="resource" type="varchar(255)"/>
      <column name="family" type="varchar(255)"/>
      <column name="startTime" type="datetime"/>
      <column name="status" type="varchar(255)"/>
      <column name="uri" type="varchar(255)"/>
      <column name="source_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-03-20_02" author="ben">
    <comment>Added Job object as part of #240: As an administrative user, I would like to list and create harvesting jobs</comment>
    <addForeignKeyConstraint constraintName="FK1239DCF3DA2C4" referencedTableName="Source" baseColumnNames="source_id" baseTableName="Job" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-03-27_01" author="ben">
    <comment>Modified column to accommodate Long #241: As an administrative user, I would like to launch jobs from the portal</comment>
    <modifyDataType tableName="Job" columnName="jobId" newDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-04-02_01" author="ben">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <createTable tableName="IdentificationKey">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)">
        <constraints nullable="false"  unique="true"/>
      </column>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
      <column name="description" type="longtext"/>
      <column name="title" type="varchar(255)"/>
      <column name="authority_id" type="bigint"/>
      <column name="taxon_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-04-02_02" author="ben">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <createTable tableName="IdentificationKey_Source">
      <column name="IdentificationKey_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="sources_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-04-02_03" author="ben">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <addForeignKeyConstraint constraintName="FKC35AE4F11EDCD08D" referencedTableName="Taxon" baseColumnNames="taxon_id" baseTableName="IdentificationKey" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-04-02_04" author="ben">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <addForeignKeyConstraint constraintName="FKC35AE4F16B53D29C" referencedTableName="Source" baseColumnNames="authority_id" baseTableName="IdentificationKey" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-04-02_05" author="ben">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <addForeignKeyConstraint constraintName="FK2FBD2B49F247EE07" referencedTableName="Source" baseColumnNames="sources_id" baseTableName="IdentificationKey_Source" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-04-02_06" author="ben">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <addForeignKeyConstraint constraintName="FK2FBD2B492774E4A2" referencedTableName="IdentificationKey" baseColumnNames="IdentificationKey_id" baseTableName="IdentificationKey_Source" referencedColumnNames="id"/>
  </changeSet>
  <changeSet author="ben" id="2012-04-02_07">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <createIndex indexName="IdentificationKey_Taxon_IDX" tableName="IdentificationKey" unique="false">
      <column name="taxon_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-04-02_08">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <createIndex indexName="IdentificationKey_Source_IDX" tableName="IdentificationKey" unique="false">
      <column name="authority_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-04-02_09">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <createIndex indexName="IdentificationKey_Source_IdentificationKey_IDX" tableName="IdentificationKey_Source" unique="false">
      <column name="IdentificationKey_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-04-02_10">
    <comment>Created new data type IdentificationKey #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <createIndex indexName="IdentificationKey_Source_Source_IDX" tableName="IdentificationKey_Source" unique="false">
      <column name="sources_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-04-19_01">
    <comment>Added new column matrix to hold matrix data to IdentificationKey object #257: As an administrator, I would like to harvest a multi-access key so that it can be displayed in the portal</comment>
    <addColumn tableName="IdentificationKey">
      <column name="matrix" type="longtext"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-05-04_01" author="ben">
    <comment>Migrating data #268: Changes to Region names but data incompatible</comment>
    <sql>update Distribution set region = 'AUSTRALA' where region = 'AUSTRALASIA';</sql>
  </changeSet>
  <changeSet id="2012-05-04_02" author="ben">
    <comment>Migrating data #268: Changes to Region names but data incompatible</comment>
    <sql>update Distribution set region = 'INDO_CHINA' where region = 'INDOCHINA';</sql>
  </changeSet>
  <changeSet id="2012-05-04_03" author="ben">
    <comment>Migrating data #268: Changes to Region names but data incompatible</comment>
    <sql>update Distribution set region = 'MACARONESIA' where region = 'MACRONESIA';</sql>
  </changeSet>
  <changeSet id="2012-05-04_04" author="ben">
    <comment>Migrating data #268: Changes to Region names but data incompatible</comment>
    <sql>update Distribution set region = 'NORTH_CENTRAL_PACIFIC' where region = 'NORTHCENTRAL_PACIFIC';</sql>
  </changeSet>
  <changeSet id="2012-05-04_05" author="ben">
    <comment>Migrating data #268: Changes to Region names but data incompatible</comment>
    <sql>update Distribution set region = 'RUSSIAN_FAR_EAST' where region = 'RUSSIA_FAR_EAST';</sql>
  </changeSet>
  <changeSet id="2012-05-04_06" author="ben">
    <comment>Migrating data #268: Changes to Region names but data incompatible</comment>
    <sql>update Distribution set region = 'WEST_CENTRAL_TROPICAL_AFRICA' where region = 'WESTCENTRAL_TROPICAL_AFRICA';</sql>
  </changeSet>
  <changeSet id="2012-05-25" author="jk00kg">
    <createTable tableName="Place">
      <column name="id" type="bigint" autoIncrement="true">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="identifier" type="varchar(255)">
        <constraints nullable="false"  unique="true"/>
      </column>
      <column name="name" type="varchar(255)" />
      <column name="fipsCode" type="varchar(5)" />
      <column name="shape" type="GEOMETRY" />
      <column name="point" type="GEOMETRY" />
      <column name="license" type="varchar(255)" />
      <column name="created" type="datetime" />
      <column name="modified" type="datetime" />
      <column name="source" type="varchar(255)" />
      <column name="creator" type="varchar(255)" />
      <column name="authority_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-05-28" author="jk00kg">
    <createTable tableName="Place_Source">
      <column name="Place_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="sources_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-06-19_01" author="ben">
    <comment>Adding columns to Job table</comment>
    <addColumn tableName="Job">
      <column name="recordsRead" type="INTEGER"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-19_02" author="ben">
    <comment>Adding columns to Job table</comment>
    <addColumn tableName="Job">
      <column name="processSkip" type="INTEGER"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-19_03" author="ben">
    <comment>Adding columns to Job table</comment>
    <addColumn tableName="Job">
      <column name="written" type="INTEGER"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-19_04" author="ben">
    <comment>Adding columns to Job table</comment>
    <addColumn tableName="Job">
      <column name="readSkip" type="INTEGER"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-19_05" author="ben">
    <comment>Adding columns to Job table</comment>
    <addColumn tableName="Job">
      <column name="writeSkip" type="INTEGER"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-27_01" author="ben">
    <comment>Adding columns to Taxon as part of adding infrafamilial ranks to the portal</comment>
    <addColumn tableName="Taxon">
      <column name="subfamily" type="VARCHAR(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-27_02" author="ben">
    <comment>Adding columns to Taxon as part of adding infrafamilial ranks to the portal</comment>
    <addColumn tableName="Taxon">
      <column name="tribe" type="VARCHAR(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-27_03" author="ben">
    <comment>Adding columns to Taxon as part of adding infrafamilial ranks to the portal</comment>
    <addColumn tableName="Taxon">
      <column name="subtribe" type="VARCHAR(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-06-29_01" author="ben">
    <comment>Changing ownership of accepted asparagaceae genera to eMonocot</comment>
    <sql>update Taxon set authority_id = 5 where family = 'Asparagaceae' and status = 'accepted' and rank = 'GENUS';</sql>
  </changeSet>
  <changeSet id="2012-06-29_02" author="ben">
    <comment>Changing ownership of accepted orchid genera to eMonocot</comment>
    <sql>update Taxon set authority_id = 5 where family = 'Orchidaceae' and status = 'accepted' and rank = 'GENUS';</sql>
  </changeSet>
  <changeSet id="2012-08-01_01" author="ben">
    <comment>Faceting on embedded objects is screwed up when identifiers are in Uppercase</comment>
    <sql>update Source set identifier = 'palmweb.org' where id = 2;</sql>
  </changeSet>
  <changeSet id="2012-08-01_02" author="ben">
    <comment>Faceting on embedded objects is screwed up when identifiers are in Uppercase</comment>
    <sql>update Source set identifier = 'cate-araceae.org' where id = 3;</sql>
  </changeSet>
  <changeSet id="2012-08-01_03" author="ben">
    <comment>Faceting on embedded objects is screwed up when identifiers are in Uppercase</comment>
    <sql>update Source set identifier = 'grassbase.kew.org' where id = 4;</sql>
  </changeSet>
  <changeSet id="2012-08-01_04" author="ben">
    <comment>Faceting on embedded objects is screwed up when identifiers are in Uppercase</comment>
    <sql>update Source set identifier = 'e-monocot.org' where id = 5;</sql>
  </changeSet>
  <changeSet id="2012-08-01_05" author="ben">
    <comment>Faceting on embedded objects is screwed up when identifiers are in Uppercase</comment>
    <sql>update Source set identifier = 'efloras.kew.org' where id = 7;</sql>
  </changeSet>
  <changeSet id="2012-08-13" author="jk00kg">
    <insert tableName="Job">
      <column name="id" valueNumeric="10" />
      <column name="identifier" value="SitemapGeneration" />
      <column name="source_id" valueNumeric="5" />
    </insert>
    <rollback><delete tableName="Job"><where>id=10</where></delete></rollback>
  </changeSet>
  <changeSet id="2012-08-28" author="jk00kg">
    <addColumn tableName="Place">
      <column name="mapFeatureId" type="bigint" />
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2012-09-17_01">
    <comment>Refactored Job so that an arbitrary number of parameters can be associated with it</comment>
    <createTable tableName="Job_parameters">
      <column name="Job_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="parameters_KEY" type="varchar(255)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="parameters" type="varchar(255)"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-09-17_02" author="ben">
    <comment>Refactored Job so that an arbitrary number of parameters can be associated with it</comment>
    <addForeignKeyConstraint constraintName="FKB4682A309E0AAB54" referencedTableName="Job" baseColumnNames="Job_id" baseTableName="Job_parameters" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-09-20_01" author="ben">
    <comment>Refactored Job so that an arbitrary number of parameters can be associated with it</comment>
    <dropColumn  tableName="Job" columnName="family"/>
  </changeSet>
  <changeSet id="2012-10-05_01" author="ben">
    <comment>Refactored Job so that an arbitrary number of parameters can be associated with it</comment>
    <renameColumn tableName="Annotation" oldColumnName="source_id" newColumnName="authority_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-10-09_01" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameTable oldTableName="TextContent" newTableName="Description"/>
  </changeSet>
  <changeSet id="2012-10-09_02" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameTable oldTableName="TextContent_Reference" newTableName="Description_Reference"/>
  </changeSet>
  <changeSet id="2012-10-09_03" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameTable oldTableName="TextContent_Source" newTableName="Description_Source"/>
  </changeSet>
  <changeSet id="2012-10-09_04" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Description_Reference" oldColumnName="TextContent_id" newColumnName="Description_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-10-09_05" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Description_Source" oldColumnName="TextContent_id" newColumnName="Description_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-10-09_06" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Description">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_07" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Description">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_08" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Description">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_09" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Distribution">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_10" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Distribution">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_11" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Distribution">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_12" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="IdentificationKey">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_13" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="IdentificationKey">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_14" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="IdentificationKey">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_15" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Identifier">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_16" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Identifier">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_17" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Identifier">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_18" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_19" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_20" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_21" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Reference">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_22" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Reference">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_23" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Reference">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_24" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Source">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_25" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Source">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_26" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Source">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_27" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_28" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_29" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_30" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update IdentificationKey set identifier = source;</sql>
  </changeSet>
  <changeSet id="2012-10-09_31" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="IdentificationKey" columnName="source"/>
  </changeSet>
  <changeSet id="2012-10-09_32" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Image set identifier = url;</sql>
  </changeSet>
  <changeSet id="2012-10-09_33" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Image" columnName="url"/>
  </changeSet>
  <changeSet id="2012-10-09_35" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Reference" oldColumnName="citation" newColumnName="bibliographicCitation" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_36" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Source" oldColumnName="source" newColumnName="bibliographicCitation" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_37" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="bibliographicCitation" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_38" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="namePublishedInString" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_39" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Taxon" columnName="accordingTo"/>
  </changeSet>
  <changeSet id="2012-10-09_40" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="nameAccordingTo_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_41" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addForeignKeyConstraint baseColumnNames="nameAccordingTo_id" baseTableName="Taxon" constraintName="Taxon_Reference_nameAccordingTo_FK" referencedColumnNames="id" referencedTableName="Reference"/>
  </changeSet>
  <changeSet id="2012-10-09_42" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="namePublishedInYear" type="integer"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_43" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="nomenclaturalStatus" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_44" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set nomenclaturalStatus = 'Illegitimate' where status = 'illegitimate';</sql>
  </changeSet>
  <changeSet id="2012-10-09_45" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="status" newColumnName="taxonomicStatus" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_46" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set nomenclaturalStatus = 'Illegitimate' where taxonomicStatus = 'illegitimate';</sql>
  </changeSet>
  <changeSet id="2012-10-09_47" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="originalNameUsage_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_48" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addForeignKeyConstraint baseColumnNames="originalNameUsage_id" baseTableName="Taxon" constraintName="Taxon_Taxon_originalNameUsage_FK" referencedColumnNames="id" referencedTableName="Taxon"/>
  </changeSet>
  <changeSet id="2012-10-09_49" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="name" newColumnName="scientificName" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_50" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="authorship" newColumnName="scientificNameAuthorship" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_51" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Taxon" columnName="basionymAuthorship"/>
  </changeSet>
  <changeSet id="2012-10-09_52" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="nameIdentifier" newColumnName="scientificNameID" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_53" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="infraGenericEpithet" newColumnName="subgenus" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_54" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="rank" newColumnName="taxonRank" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_55" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="taxonRemarks" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_56" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Taxon">
      <column name="verbatimTaxonRank" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_57" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Taxon" columnName="uninomial"/>
  </changeSet>
  <changeSet id="2012-10-09_58" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="parent_id" newColumnName="parentNameUsage_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-10-09_59" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="accepted_id" newColumnName="acceptedNameUsage_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-10-09_60" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Taxon" oldColumnName="protologue_id" newColumnName="namePublishedIn_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-10-09_61" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon join Reference on (Taxon.namePublishedIn_id = Reference.id) set namePublishedInString = concat(Reference.title,IFNULL(Reference.volume,''),IFNULL(Taxon.protologueMicroReference,''),IFNULL(Reference.datePublished,''));</sql>
  </changeSet>
  <changeSet id="2012-10-09_62" author="ben">
    <comment>Noticed that the OAI-PMH processor wasn't adding authority to the reference</comment>
    <sql>update Reference set authority_id = 1 where authority_id is NULL;</sql>
  </changeSet>
  <changeSet id="2012-10-09_62b" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <modifyDataType tableName="Reference" columnName="bibliographicCitation" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-10-09_63" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Reference set bibliographicCitation = concat(ifnull(Reference.author,''), if(datePublished is not NULL, datePublished,''),  '. ', ifnull(title,''), if(publishedInAuthor is not NULL,concat(' ',publishedInAuthor),''), if(publishedIn is not NULL,concat(' ',publishedIn),''), if(volume is not NULL,concat(' ',volume),''), if(pages is not NULL,concat(': ',pages),''), ' ', if(publisher is not NULL,concat(publisher,'.'),'')) where authority_id = 1</sql>
  </changeSet>
  <changeSet id="2012-10-09_64" author="ben">
    <renameColumn tableName="Reference" oldColumnName="datePublished" newColumnName="date" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_65" author="ben">
    <renameColumn tableName="Reference" oldColumnName="keywords" newColumnName="subject"  columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_66" author="ben">
    <renameColumn tableName="Reference" oldColumnName="referenceAbstract" newColumnName="description"  columnDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-10-09_67" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Reference">
      <column name="language" type="varchar(32)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_68" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Reference">
      <column name="taxonRemarks" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_69" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Reference set creator = author;</sql>
  </changeSet>
  <changeSet id="2012-10-09_70" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Reference" columnName="author"/>
  </changeSet>
  <changeSet id="2012-10-09_71" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Reference" columnName="number"/>
  </changeSet>
  <changeSet id="2012-10-09_72" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Reference" columnName="pages"/>
  </changeSet>
  <changeSet id="2012-10-09_73" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Reference" columnName="publishedInAuthor"/>
  </changeSet>
  <changeSet id="2012-10-09_74" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Reference" columnName="publisher"/>
  </changeSet>
  <changeSet id="2012-10-09_75" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Reference" columnName="volume"/>
  </changeSet>
  <changeSet id="2012-10-09_76" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Reference set source = publishedIn;</sql>
  </changeSet>
  <changeSet id="2012-10-09_77" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Reference" columnName="publishedIn"/>
  </changeSet>
  <changeSet id="2012-10-09_78" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonRank = 'InfraspecificName' where taxonRank = 'INFRASPECIES';</sql>
  </changeSet>
  <changeSet id="2012-10-09_78a" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonRank = 'Subfamily' where taxonRank = 'SUBFAMILY';</sql>
  </changeSet>
  <changeSet id="2012-10-09_79" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonRank = 'Subtribe' where taxonRank = 'SUBTRIBE';</sql>
  </changeSet>
  <changeSet id="2012-10-09_80" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonRank = 'Tribe' where taxonRank = 'Tribe';</sql>
  </changeSet>
  <changeSet id="2012-10-09_81" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set nomenclaturalCode = 'Botanical' where nomenclaturalCode = 'ICBN';</sql>
  </changeSet>
  <changeSet id="2012-10-09_83" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonomicStatus = 'Synonym' where taxonomicStatus = 'illegitimate';</sql>
  </changeSet>
  <changeSet id="2012-10-09_84" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonomicStatus = 'Synonym' where taxonomicStatus = 'synonym';</sql>
  </changeSet>
  <changeSet id="2012-10-09_85" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonomicStatus = 'Doubtful' where taxonomicStatus = 'unplaced';</sql>
  </changeSet>
  <changeSet id="2012-10-09_86" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Taxon set taxonomicStatus = 'Accepted' where taxonomicStatus = 'accepted';</sql>
  </changeSet>
  <changeSet id="2012-10-09_87" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <sql>update Reference set type = 0;</sql>
  </changeSet>
  <changeSet id="2012-10-09_88" author="ben">
    <renameColumn tableName="Description" oldColumnName="content" newColumnName="description"  columnDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-10-09_89" author="ben">
    <renameColumn tableName="Description" oldColumnName="feature" newColumnName="type"  columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_90" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Description">
      <column name="language" type="varchar(32)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_91" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Description">
      <column name="contributor" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_92" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Description">
      <column name="audience" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_93" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Distribution">
      <column name="locality" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_94" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Distribution">
      <column name="occurrenceRemarks" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_95" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Distribution">
      <column name="occurrenceStatus" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_96" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Distribution">
      <column name="establishmentMeans" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_97" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="Distribution" oldColumnName="region" newColumnName="location"  columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet author="ben" id="2012-10-09_98">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="Distribution_Reference">
      <column name="Distribution_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="references_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet author="ben" id="2012-10-09_99">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addForeignKeyConstraint constraintName="Distribution_Reference_Distribution_fk" baseColumnNames="Distribution_id" baseTableName="Distribution_Reference" referencedColumnNames="id" referencedTableName="Distribution"/>
  </changeSet>
  <changeSet author="ben" id="2012-10-09_100">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addForeignKeyConstraint constraintName="Distribution_Reference_Reference_fk" baseColumnNames="references_id" baseTableName="Distribution_Reference" referencedColumnNames="id" referencedTableName="Distribution"/>
  </changeSet>
  <changeSet id="2012-10-09_101" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <dropColumn tableName="Identifier" columnName="content"/>
  </changeSet>
  <changeSet id="2012-10-09_102" author="ben">
    <renameColumn tableName="Image" oldColumnName="caption" newColumnName="title"  columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_103" author="ben">
    <renameColumn tableName="Image" oldColumnName="keywords" newColumnName="subject"  columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-09_105" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="contributor" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_106" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="publisher" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_107" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="audience" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_108" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Place">
      <column name="accessRights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_109" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Place">
      <column name="rights" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-09_110" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Place">
      <column name="rightsHolder" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-10-17_01" author="ben">
    <renameColumn tableName="Place" oldColumnName="name" newColumnName="title"  columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-10-29_01" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="MeasurementOrFact">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="identifier" type="varchar(255)">
        <constraints unique="true"/>
      </column>
      <column name="accessRights" type="varchar(255)"/>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="rights" type="varchar(255)"/>
      <column name="rightsHolder" type="varchar(255)"/>
      <column name="measurementAccuracy" type="varchar(255)"/>
      <column name="measurementDeterminedBy" type="varchar(255)"/>
      <column name="measurementDeterminedDate" type="datetime"/>
      <column name="measurementMethod" type="varchar(255)"/>
      <column name="measurementRemarks" type="varchar(255)"/>
      <column name="measurementType" type="varchar(255)"/>
      <column name="measurementValue" type="varchar(255)"/>
      <column name="measurementUnit" type="varchar(255)"/>
      <column name="authority_id" type="bigint"/>
      <column name="taxon_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-10-29_02" author="ben">
    <addForeignKeyConstraint constraintName="MeasurementOrFact_taxon_FK"
      referencedTableName="Taxon"
      baseColumnNames="taxon_id"
      baseTableName="MeasurementOrFact"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_03" author="ben">
    <addForeignKeyConstraint constraintName="MeasurementOrFact_authority_FK"
      referencedTableName="Source"
      baseColumnNames="authority_id"
      baseTableName="MeasurementOrFact"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_04" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="MeasurementOrFact_Source">
      <column name="MeasurementOrFact_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="sources_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-10-29_05" author="ben">
    <addForeignKeyConstraint constraintName="MeasurementOrFact_Source_MeasurementOrFact_id_FK"
      referencedTableName="MeasurementOrFact"
      baseColumnNames="MeasurementOrFact_id"
      baseTableName="MeasurementOrFact_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_06" author="ben">
    <addForeignKeyConstraint constraintName="MeasurementOrFact_Source_sources_id_FK"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="MeasurementOrFact_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_07" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="TypeAndSpecimen">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="identifier" type="varchar(255)">
        <constraints unique="true"/>
      </column>
      <column name="accessRights" type="varchar(255)"/>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="rights" type="varchar(255)"/>
      <column name="rightsHolder" type="varchar(255)"/>
      <column name="bibliographicCitation" type="varchar(255)"/>
      <column name="catalogNumber" type="varchar(255)"/>
      <column name="collectionCode" type="varchar(255)"/>
      <column name="institutionCode" type="varchar(255)"/>
      <column name="locality" type="varchar(255)"/>
      <column name="recordedBy" type="varchar(255)"/>
      <column name="scientificName" type="varchar(255)"/>
      <column name="sex" type="varchar(255)"/>
      <column name="source" type="varchar(255)"/>
      <column name="taxonRank" type="varchar(255)"/>
      <column name="typeDesignatedBy" type="varchar(255)"/>
      <column name="typeDesignationType" type="varchar(255)"/>
      <column name="typeStatus" type="varchar(255)"/>
      <column name="verbatimEventDate" type="varchar(255)"/>
      <column name="verbatimLabel" type="varchar(255)"/>
      <column name="verbatimLattitude" type="varchar(255)"/>
      <column name="verbatimLongitude" type="varchar(255)"/>
      <column name="authority_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-10-29_08" author="ben">
    <addForeignKeyConstraint constraintName="TypeAndSpecimen_authority_FK"
      referencedTableName="Source"
      baseColumnNames="authority_id"
      baseTableName="TypeAndSpecimen"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_09" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="Taxon_TypeAndSpecimen">
      <column name="Taxon_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="typesAndSpecimens_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-10-29_10" author="ben">
    <addForeignKeyConstraint constraintName="Taxon_TypeAndSpecimen_Taxon_id_FK"
      referencedTableName="Taxon"
      baseColumnNames="Taxon_id"
      baseTableName="Taxon_TypeAndSpecimen"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_11" author="ben">
    <addForeignKeyConstraint constraintName="Taxon_TypeAndSpecimen_typesAndSpecimens_id_FK"
      referencedTableName="TypeAndSpecimen"
      baseColumnNames="typesAndSpecimens_id"
      baseTableName="Taxon_TypeAndSpecimen"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_12" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="TypeAndSpecimen_Source">
      <column name="TypeAndSpecimen_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="sources_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-10-29_13" author="ben">
    <addForeignKeyConstraint constraintName="TypeAndSpecimen_Source_TypeAndSpecimen_id_FK"
      referencedTableName="TypeAndSpecimen"
      baseColumnNames="TypeAndSpecimen_id"
      baseTableName="TypeAndSpecimen_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_14" author="ben">
    <addForeignKeyConstraint constraintName="TypeAndSpecimen_Source_sources_id_FK"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="TypeAndSpecimen_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_15" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="VernacularName">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="identifier" type="varchar(255)">
        <constraints unique="true"/>
      </column>
      <column name="accessRights" type="varchar(255)"/>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="rights" type="varchar(255)"/>
      <column name="rightsHolder" type="varchar(255)"/>
      <column name="countryCode" type="varchar(255)"/>
      <column name="language" type="varchar(255)"/>
      <column name="lifeStage" type="varchar(255)"/>
      <column name="locality" type="varchar(255)"/>
      <column name="location" type="varchar(255)"/>
      <column name="organismPart" type="varchar(255)"/>
      <column name="plural" type="boolean" defaultValueBoolean="false">
        <constraints nullable="false"/>
      </column>
      <column name="preferredName" type="boolean" defaultValueBoolean="false">
        <constraints nullable="false"/>
      </column>
      <column name="sex" type="varchar(255)"/>
      <column name="source" type="varchar(255)"/>
      <column name="taxonRemarks" type="varchar(255)"/>
      <column name="temporal" type="varchar(255)"/>
      <column name="vernacularName" type="varchar(255)"/>
      <column name="authority_id" type="bigint"/>
      <column name="taxon_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2012-10-29_16" author="ben">
    <addForeignKeyConstraint constraintName="VernacularName_taxon_FK"
      referencedTableName="Taxon"
      baseColumnNames="taxon_id"
      baseTableName="VernacularName"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_17" author="ben">
    <addForeignKeyConstraint constraintName="VernacularName_authority_FK"
      referencedTableName="Source"
      baseColumnNames="authority_id"
      baseTableName="VernacularName"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_18" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <createTable tableName="VernacularName_Source">
      <column name="VernacularName_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="sources_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-10-29_19" author="ben">
    <addForeignKeyConstraint constraintName="VernacularName_Source_VernacularName_id_FK"
      referencedTableName="VernacularName"
      baseColumnNames="VernacularName_id"
      baseTableName="VernacularName_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-10-29_20" author="ben">
    <addForeignKeyConstraint constraintName="VernacularName_Source_sources_id_FK"
      referencedTableName="Source"
      baseColumnNames="sources_id"
      baseTableName="VernacularName_Source"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2012-11-07_01" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="latitude" type="double"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-11-07_02" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="Image">
      <column name="longitude" type="double"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-11-08_01" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <renameColumn tableName="TypeAndSpecimen" oldColumnName="verbatimLattitude" newColumnName="verbatimLatitude" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2012-11-08_02" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="TypeAndSpecimen">
      <column name="decimalLongitude" type="double"/>
    </addColumn>
  </changeSet>
  <changeSet id="2012-11-08_03" author="ben">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="TypeAndSpecimen">
      <column name="decimalLatitude" type="double"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2012-11-08_04">
    <comment>BUG #368: Align the e-monocot model with the DwC standard</comment>
    <addColumn tableName="TypeAndSpecimen">
      <column name="location" type="GEOMETRY"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_01">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Description_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_02">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Distribution_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_03">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="IdentificationKey_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_04">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Identifier_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_05">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Image_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_06">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="MeasurementOrFact_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_07">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Place_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_08">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Reference_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_09">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Source_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_10">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="Taxon_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_11">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="TypeAndSpecimen_Source"/>
  </changeSet>
  <changeSet author="ben" id="2012-11-16_12">
    <comment>Drop multiple sources</comment>
    <dropTable tableName="VernacularName_Source"/>
  </changeSet>
  <changeSet id="2012-11-26_01" author="ben">
    <comment>OAI-PMH webservice did not set the authority for distributions</comment>
    <sql>
      update distribution set authority_id = 1 where authority_id is NULL;
    </sql>
  </changeSet>
  <changeSet id="2012-11-28_01" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Description" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_02" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Distribution" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_03" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="IdentificationKey" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_04" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Identifier" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_05" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Image" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_06" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="MeasurementOrFact" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_07" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Place" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_08" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Reference" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_09" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Source" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_10" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="Taxon" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_11" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="TypeAndSpecimen" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-28_12" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <modifyDataType  tableName="VernacularName" columnName="rights" newDataType="longtext"/>
  </changeSet>
  <changeSet id="2012-11-29_01" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <sql>update Annotation set annotatedObjType = 'Description' where annotatedObjType = 'TextContent'</sql>
  </changeSet>
  <changeSet id="2012-11-29_02" author="ben">
    <comment>BUG 410: Implement changes to harvester in response to scratchpad DwC/A changes</comment>
    <sql>update Annotation set recordType = 'Description' where recordType = 'TextContent'</sql>
  </changeSet>
  <changeSet id="2012-12-03_01" author="ben">
    <comment>Rename source to organisation and job to resource</comment>
    <renameTable newTableName="Organisation" oldTableName="Source"/>
  </changeSet>
  <changeSet id="2012-12-03_02" author="ben">
    <comment>Rename source to organisation and job to resource</comment>
    <renameTable newTableName="Resource" oldTableName="Job"/>
  </changeSet>
  <changeSet id="2012-12-03_03" author="ben">
    <comment>Rename source to organisation and job to resource</comment>
    <renameTable newTableName="Resource_parameters" oldTableName="Job_parameters"/>
  </changeSet>
  <changeSet id="2012-12-03_04" author="ben">
    <comment>Rename source to organisation and job to resource</comment>
    <renameColumn tableName="Resource_parameters" oldColumnName="Job_id" newColumnName="Resource_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-12-03_05" author="ben">
    <comment>Rename source to organisation and job to resource</comment>
    <renameColumn tableName="Resource" oldColumnName="source_id" newColumnName="organisation_id" columnDataType="bigint"/>
  </changeSet>
  <changeSet id="2012-12-17_01" author="ben" >
    <comment>BUG 378 - As a user of eMonocot, I would like to have, in the family and genus pages, links to the related keys, where available</comment>
    <createTable tableName="Taxon_IdentificationKey">
      <column name="Taxon_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="keys_id" type="bigint">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2012-12-17_02" author="ben" >
    <comment>BUG 378 - As a user of eMonocot, I would like to have, in the family and genus pages, links to the related keys, where available</comment>
    <addForeignKeyConstraint constraintName="FK56D693661EDCD08E" baseTableName="Taxon_IdentificationKey" baseColumnNames="taxon_id"
      referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2012-12-17_03" author="ben" >
    <comment>BUG 378 - As a user of eMonocot, I would like to have, in the family and genus pages, links to the related keys, where available</comment>
    <addForeignKeyConstraint constraintName="FK56D69466437564A" baseTableName="Taxon_IdentificationKey" baseColumnNames="keys_id"
      referencedTableName="IdentificationKey" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2012-12-17_04" author="ben" >
    <comment>BUG 378 - As a user of eMonocot, I would like to have, in the family and genus pages, links to the related keys, where available</comment>
    <sql>insert into Taxon_IdentificationKey (Taxon_id, keys_id) select taxon_id, id from IdentificationKey where taxon_id is not NULL</sql>
  </changeSet>
  <changeSet id="2012-12-17_05" author="ben" >
    <comment>BUG 378 - As a user of eMonocot, I would like to have, in the family and genus pages, links to the related keys, where available</comment>
    <dropColumn tableName="Taxon" columnName="image_id"/>
  </changeSet>
  <changeSet id="2012-12-17_06" author="ben" >
    <comment>BUG 378 - As a user of eMonocot, I would like to have, in the family and genus pages, links to the related keys, where available</comment>
    <dropColumn tableName="IdentificationKey" columnName="taxon_id"/>
  </changeSet>
  <changeSet id="2012-12-17_07" author="ben">
    <comment>Adding Bibliographic citation to measurement or fact to accommodate the IUCN data</comment>
    <addColumn tableName="MeasurementOrFact">
      <column name="bibliographicCitation" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2012-12-20_01">
    <comment>Would be helpful if we indexed columns we join on, wouldn't it. . . </comment>
    <createIndex indexName="Annotation_annotatedObjId_IDX" tableName="Annotation" unique="false">
      <column name="annotatedObjId"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-12-20_02">
    <comment>Would be helpful if we indexed columns we join on, wouldn't it. . . </comment>
    <createIndex indexName="Annotation_annotatedObjType_IDX" tableName="Annotation" unique="false">
      <column name="annotatedObjType"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-12-20_03">
    <comment>Would be helpful if we indexed columns we use as surrogate keys, wouldn't it . . . </comment>
    <createIndex indexName="Description_identifier_IDX" tableName="Description" unique="true">
      <column name="identifier"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-12-20_04">
    <comment>Would be helpful if we indexed columns we use as surrogate keys, wouldn't it . . . </comment>
    <createIndex indexName="Distribution_identifier_IDX" tableName="Distribution" unique="true">
      <column name="identifier"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2012-12-20_05">
    <comment>Would be helpful if we indexed columns we use as surrogate keys, wouldn't it . . . </comment>
    <createIndex indexName="Reference_identifier_IDX" tableName="Reference" unique="true">
      <column name="identifier"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-01-08_01">
    <comment>Refactoring resource</comment>
    <renameColumn tableName="Resource" oldColumnName="jobType" newColumnName="resourceType" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet author="ben" id="2013-01-08_02">
    <comment>Refactoring resource</comment>
    <renameColumn tableName="Resource" oldColumnName="identifier" newColumnName="title" columnDataType="varchar(255)"/>
  </changeSet>
  <changeSet author="ben" id="2013-01-08_03">
    <comment>Refactoring resource</comment>
    <addColumn tableName="Resource">
      <column name="identifier" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2013-01-08_04">
    <comment>Refactoring resource</comment>
    <sql>update Resource set identifier = UUID() where identifier is null</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_01">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'EUROPE' where location = '1'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_02">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'AFRICA' where location = '2'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_03">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'ASIA_TEMPERATE' where location = '3'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_04">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'ASIA_TROPICAL' where location = '4'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_05">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'AUSTRALASIA' where location = '5'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_06">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'PACIFIC' where location = '6'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_07">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHERN_AMERICA' where location = '7'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_08">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHERN_AMERICA' where location = '8'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_09">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHERN_EUROPE' where location = '10'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_10">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'MIDDLE_EUROPE' where location = '11'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_11">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHWESTERN_EUROPE' where location = '12'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_12">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHEASTERN_EUROPE' where location = '13'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_13">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'EASTERN_EUROPE' where location = '14'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_14">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHERN_AFRICA' where location = '20'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_15">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'MACARONESIA' where location = '21'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_16">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'WEST_TROPICAL_AFRICA' where location = '22'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_17">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'WEST_CENTRAL_TROPICAL_AFRICA' where location = '23'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_18">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHEAST_TROPICAL_AFRICA' where location = '24'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_19">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'EAST_TROPICAL_AFRICA' where location = '25'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_20">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTH_TROPICAL_AFRICA' where location = '26'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_21">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHERN_AFRICA' where location = '27'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_22">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'MIDDLE_ATLANTIC_OCEAN' where location = '28'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_23">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'WESTERN_INDIAN_OCEAN' where location = '29'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_24">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SIBERIA' where location = '30'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_25">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'RUSSIAN_FAR_EAST' where location = '31'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_26">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'MIDDLE_ASIA' where location = '32'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_27">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'CAUCASUS' where location = '33'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_28">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'WESTERN_ASIA' where location = '34'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_29">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'ARABIAN_PENINSULA' where location = '35'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_30">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'CHINA' where location = '36'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_31">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'MONGOLIA' where location = '37'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_32">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'EASTERN_ASIA' where location = '38'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_33">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'INDIAN_SUBCONTINENT' where location = '40'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_34">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'INDO_CHINA' where location = '41'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_35">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'MALESIA' where location = '42'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_36">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'PAPUASIA' where location = '43'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_37">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'AUSTRALIA' where location = '50'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_38">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NEW_ZEALAND' where location = '51'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_39">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHWESTERN_PACIFIC' where location = '60'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_40">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTH_CENTRAL_PACIFIC' where location = '61'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_41">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHWESTERN_PACIFIC' where location = '62'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_42">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTH_CENTRAL_PACIFIC' where location = '63'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_43">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SUBARCTIC_AMERICA' where location = '70'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_44">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'WESTERN_CANADA' where location = '71'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_45">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'EASTERN_CANADA' where location = '72'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_46">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHWESTERN_USA' where location = '73'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_47">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTH_CENTRAL_USA' where location = '74'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_48">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHEASTERN_USA' where location = '75'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_49">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHWESTERN_USA' where location = '76'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_50">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTH_CENTRAL_USA' where location = '77'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_51">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHEASTERN_USA' where location = '78'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_52">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'MEXICO' where location = '79'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_53">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'CENTRAL_AMERICA' where location = '80'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_54">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'CARIBBEAN' where location = '81'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_55">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'NORTHERN_SOUTH_AMERICA' where location = '82'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_56">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'WESTERN_SOUTH_AMERICA' where location = '83'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_57">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'BRAZIL' where location = '84'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_58">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SOUTHERN_SOUTH_AMERICA' where location = '85'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_59">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'SUBANTARCTIC_ISLANDS' where location = '90'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-09_60">
    <comment>Renaming distribution constants</comment>
    <sql>update Distribution set location = 'ANTARCTIC_CONTINENT' where location = '91'</sql>
  </changeSet>
  <changeSet author="ben" id="2013-01-22_1">
    <comment>STRING_VAL in BATCH_JOB_PARAMS too short</comment>
    <modifyDataType tableName="BATCH_JOB_PARAMS" columnName="STRING_VAL" newDataType="longtext"/>
  </changeSet>
  <changeSet author="ben" id="2013-01-22_2">
    <addColumn tableName="Resource">
      <column name="baseUrl" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-01-23" author="jk00kg">
    <createTable tableName="Comment">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true" />
      </column>
      <column name="identifier" type="varchar(255)">
        <constraints nullable="false" unique="true" />
      </column>
      <column name="aboutData_id" type="bigint" />
      <column name="aboutData_type" type="varchar(255)" />
      <column name="comment" type="longtext" />
      <column name="created" type="datetime" />
      <column name="status" type="varchar(15)" />
      <column name="user_id" type="bigint" />
    </createTable>
    <addForeignKeyConstraint constraintName="Comment_User_FK"
      referencedTableName="Principal" referencedColumnNames="id"
      baseTableName="Comment" baseColumnNames="user_id" />
    <comment>Give PERMISSION_DELETE_COMMENT to admin</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="21"/>
    </insert>
  </changeSet>
  <changeSet author="ben" id="2013-01-25_01">
    <comment>Adding index on foreign keys</comment>
    <createIndex tableName="Taxon_TypeAndSpecimen" indexName="Taxon_TypeAndSpecimen_typesAndSpecimens_id_IDX">
      <column name="typesAndSpecimens_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-01-25_02">
    <comment>Adding index on foreign keys</comment>
    <createIndex tableName="Taxon_TypeAndSpecimen" indexName="Taxon_TypeAndSpecimen_Taxon_id_IDX">
      <column name="Taxon_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-01-25_03">
    <comment>Adding index on foreign keys</comment>
    <createIndex tableName="Resource" indexName="Resource_jobId_IDX">
      <column name="jobId"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-01-25_04">
    <comment>Adding index on foreign keys</comment>
    <createIndex tableName="Annotation" indexName="Annotation_jobId_IDX">
      <column name="jobId"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-01-25_05">
    <comment>Add column for user account reset and verification</comment>
    <addColumn tableName="Principal">
      <column name="nonce" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-02-04_01" author="ben">
    <comment>Refactoring model - dateTime now conventional timestamp</comment>
    <sql>update Annotation set dateTime = NULL</sql>
  </changeSet>
  <changeSet id="2013-02-04_02" author="ben">
    <comment>Refactoring model - dateTime now conventional timestamp</comment>
    <modifyDataType tableName="Annotation" columnName="dateTime" newDataType="datetime"/>
  </changeSet>
  <changeSet id="2013-02-04_03" author="ben">
    <comment>Refactoring model - dateTime now conventional timestamp</comment>
    <dropTable tableName="Region"/>
  </changeSet>
  <changeSet id="2013-02-04_04" author="ben">
    <sql>DROP PROCEDURE IF EXISTS populateDate;</sql>
  </changeSet>
  <changeSet id="2013-02-04_05" author="ben">
    <comment>Refactoring model - dateTime now conventional timestamp</comment>
    <dropTable tableName="Time"/>
  </changeSet>
  <changeSet id="2013-02-04_06" author="ben">
    <comment>Refactoring model - duration now a PersistentDuration</comment>
    <sql>update Resource set duration = NULL</sql>
  </changeSet>
  <changeSet id="2013-02-04_07" author="ben">
    <comment>Refactoring model - duration now a PersistentDuration</comment>
    <modifyDataType tableName="Resource" columnName="duration" newDataType="varchar(255)"/>
  </changeSet>
  <changeSet id="2013-02-05_01" author="ben">
    <comment>Refactoring model - Scheduled harvesting, adding columns</comment>
    <addColumn tableName="Resource">
      <column name="scheduled" type="boolean"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-02-05_02" author="ben">
    <comment>Refactoring model - Scheduled harvesting, adding columns</comment>
    <addColumn tableName="Resource">
      <column name="schedulingPeriod" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-02-05_03" author="ben">
    <comment>Refactoring model - Scheduled harvesting, adding columns</comment>
    <addColumn tableName="Resource">
      <column name="nextAvailableDate" type="datetime"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-02-06_01" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_JOB_DETAILS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="JOB_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="JOB_GROUP" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="DESCRIPTION" type="VARCHAR(250)"/>
      <column name="JOB_CLASS_NAME" type="VARCHAR(250)">
        <constraints nullable="false"/>
      </column>
      <column name="IS_DURABLE" type="VARCHAR(1)">
        <constraints nullable="false"/>
      </column>
      <column name="IS_NONCONCURRENT" type="VARCHAR(1)">
        <constraints nullable="false"/>
      </column>
      <column name="IS_UPDATE_DATA" type="VARCHAR(1)">
        <constraints nullable="false"/>
      </column>
      <column name="REQUESTS_RECOVERY" type="VARCHAR(1)">
        <constraints nullable="false"/>
      </column>
      <column name="JOB_DATA" type="BLOB"/>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet id="2013-02-06_02" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_TRIGGERS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_GROUP" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="JOB_NAME" type="VARCHAR(200)">
        <constraints nullable="false"/>
      </column>
      <column name="JOB_GROUP" type="VARCHAR(200)">
        <constraints nullable="false"/>
      </column>
      <column name="DESCRIPTION" type="VARCHAR(250)"/>
      <column name="NEXT_FIRE_TIME" type="BIGINT(13)"/>
      <column name="PREV_FIRE_TIME" type="BIGINT(13)"/>
      <column name="PRIORITY" type="INTEGER"/>
      <column name="TRIGGER_STATE" type="VARCHAR(16)">
        <constraints nullable="false"/>
      </column>
      <column name="TRIGGER_TYPE" type="VARCHAR(8)">
        <constraints nullable="false"/>
      </column>
      <column name="START_TIME" type="BIGINT(13)">
        <constraints nullable="false"/>
      </column>
      <column name="END_TIME" type="BIGINT(13)"/>
      <column name="CALENDAR_NAME" type="VARCHAR(200)"/>
      <column name="MISFIRE_INSTR" type="SMALLINT(2)"/>
      <column name="JOB_DATA" type="BLOB"/>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet author="ben" id="2013-02-06_03">
    <comment>Creating tables for quartz</comment>
    <addForeignKeyConstraint baseColumnNames="SCHED_NAME,JOB_NAME,JOB_GROUP" baseTableName="QRTZ_TRIGGERS" constraintName="QRTZ_TRIGGERS_JOB_DETAILS_FK"  referencedColumnNames="SCHED_NAME,JOB_NAME,JOB_GROUP" referencedTableName="QRTZ_JOB_DETAILS"/>
  </changeSet>
  <changeSet id="2013-02-06_04" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_SIMPLE_TRIGGERS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_GROUP" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="REPEAT_COUNT" type="BIGINT(7)">
        <constraints nullable="false"/>
      </column>
      <column name="REPEAT_INTERVAL" type="BIGINT(12)">
        <constraints nullable="false"/>
      </column>
      <column name="TIMES_TRIGGERED" type="BIGINT(10)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet author="ben" id="2013-02-06_05">
    <comment>Creating tables for quartz</comment>
    <addForeignKeyConstraint baseColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" baseTableName="QRTZ_SIMPLE_TRIGGERS" constraintName="QRTZ_SIMPLE_TRIGGERS_TRIGGERS_FK"  referencedColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" referencedTableName="QRTZ_TRIGGERS"/>
  </changeSet>
  <changeSet id="2013-02-06_06" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_CRON_TRIGGERS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_GROUP" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="CRON_EXPRESSION" type="VARCHAR(200)">
        <constraints nullable="false"/>
      </column>
      <column name="TIME_ZONE_ID" type="VARCHAR(80)"/>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet author="ben" id="2013-02-06_07">
    <comment>Creating tables for quartz</comment>
    <addForeignKeyConstraint baseColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" baseTableName="QRTZ_CRON_TRIGGERS" constraintName="QRTZ_CRON_TRIGGERS_TRIGGERS_FK"  referencedColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" referencedTableName="QRTZ_TRIGGERS"/>
  </changeSet>
  <changeSet id="2013-02-06_08" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_SIMPROP_TRIGGERS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_GROUP" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="STR_PROP_1" type="VARCHAR(512)"/>
      <column name="STR_PROP_2" type="VARCHAR(512)"/>
      <column name="STR_PROP_3" type="VARCHAR(512)"/>
      <column name="INT_PROP_1" type="INT"/>
      <column name="INT_PROP_2" type="INT"/>
      <column name="LONG_PROP_1" type="BIGINT"/>
      <column name="LONG_PROP_2" type="BIGINT"/>
      <column name="DEC_PROP_1" type="DECIMAL(13,4)"/>
      <column name="DEC_PROP_2" type="DECIMAL(13,4)"/>
      <column name="BOOL_PROP_1" type="VARCHAR(1)"/>
      <column name="BOOL_PROP_2" type="VARCHAR(1)"/>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet author="ben" id="2013-02-06_09">
    <comment>Creating tables for quartz</comment>
    <addForeignKeyConstraint baseColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" baseTableName="QRTZ_SIMPROP_TRIGGERS" constraintName="QRTZ_SIMPROP_TRIGGERS_TRIGGERS_FK"  referencedColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" referencedTableName="QRTZ_TRIGGERS"/>
  </changeSet>
  <changeSet id="2013-02-06_10" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_BLOB_TRIGGERS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_GROUP" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="BLOB_DATA" type="BLOB"/>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet author="ben" id="2013-02-06_11">
    <comment>Creating tables for quartz</comment>
    <addForeignKeyConstraint baseColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" baseTableName="QRTZ_BLOB_TRIGGERS" constraintName="QRTZ_BLOB_TRIGGERS_TRIGGERS_FK"  referencedColumnNames="SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP" referencedTableName="QRTZ_TRIGGERS"/>
  </changeSet>
  <changeSet id="2013-02-06_12" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_CALENDARS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="CALENDAR_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="CALENDAR" type="BLOB">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet id="2013-02-06_13" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_PAUSED_TRIGGER_GRPS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_GROUP" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2013-02-06_14" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_FIRED_TRIGGERS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="ENTRY_ID" type="VARCHAR(95)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="TRIGGER_NAME" type="VARCHAR(200)">
        <constraints nullable="false"/>
      </column>
      <column name="TRIGGER_GROUP" type="VARCHAR(200)">
        <constraints nullable="false"/>
      </column>
      <column name="INSTANCE_NAME" type="VARCHAR(200)">
        <constraints nullable="false"/>
      </column>
      <column name="FIRED_TIME" type="BIGINT(13)">
        <constraints nullable="false"/>
      </column>
      <column name="PRIORITY" type="INTEGER">
        <constraints nullable="false"/>
      </column>
      <column name="STATE" type="VARCHAR(16)">
        <constraints nullable="false"/>
      </column>
      <column name="JOB_NAME" type="VARCHAR(200)"/>
      <column name="JOB_GROUP" type="VARCHAR(200)"/>
      <column name="IS_NONCONCURRENT" type="VARCHAR(1)"/>
      <column name="REQUESTS_RECOVERY" type="VARCHAR(1)"/>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet id="2013-02-06_15" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_SCHEDULER_STATE">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="INSTANCE_NAME" type="VARCHAR(200)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="LAST_CHECKIN_TIME" type="BIGINT(13)">
        <constraints nullable="false"/>
      </column>
      <column name="CHECKIN_INTERVAL" type="BIGINT(13)">
        <constraints nullable="false"/>
      </column>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet id="2013-02-06_16" author="ben">
    <comment>Creating tables for quartz</comment>
    <createTable tableName="QRTZ_LOCKS">
      <column name="SCHED_NAME" type="VARCHAR(120)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="LOCK_NAME" type="VARCHAR(40)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
    </createTable>
    <modifySql dbms="mysql">
      <append value="charset=ascii"/>
    </modifySql>
  </changeSet>
  <changeSet id="2013-02-12_01" author="ben">
    <comment>Set scheduled to false by default</comment>
    <sql>update Resource set scheduled = 0 where scheduled is NULL</sql>
  </changeSet>
  <changeSet author="ben" id="2013-02-14_01">
    <createIndex tableName="Description_Reference" indexName="Description_Reference_references_id_IDX">
      <column name="references_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-02-14_02">
    <addForeignKeyConstraint constraintName="Description_Reference_Description_id_FK" baseTableName="Description_Reference" baseColumnNames="Description_id"
      referencedTableName="Description" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2013-02-14_03">
    <createIndex tableName="Description_Reference" indexName="Description_Reference_Description_id_IDX">
      <column name="Description_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-02-14_04">
    <createIndex tableName="Distribution_Reference" indexName="Distribution_Reference_references_id_IDX">
      <column name="references_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-02-14_05">
    <addForeignKeyConstraint constraintName="Distribution_Reference_Taxon_id_FK" baseTableName="Distribution_Reference" baseColumnNames="Distribution_id"
      referencedTableName="Distribution" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet author="ben" id="2013-02-14_06">
    <createIndex tableName="Distribution_Reference" indexName="Distribution_Reference_Distribution_id_IDX">
      <column name="Distribution_id"/>
    </createIndex>
  </changeSet>
  <changeSet id="2013-02-18_01" author="jk00kg">
    <addColumn tableName="Organisation">
      <column name="commentsEmailedTo" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-02-21_01" author="ben">
    <comment>Column no longer in data model</comment>
    <dropColumn tableName="Taxon" columnName="protologueMicroReference"/>
  </changeSet>
  <changeSet id="2013-02-21_02" author="ben">
    <comment>Required to hold the completed job id</comment>
    <addColumn tableName="Resource">
      <column name="lastHarvestedJobId" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-02-21_03" author="ben">
    <comment>Required to hold the completed job id</comment>
    <sql>update Resource set lastHarvestedJobId = jobId;</sql>
  </changeSet>
  <changeSet id="2013-02-22_01" author="jk00kg">
    <comment>Required to send e-mails</comment>
    <sql>update Organisation set commentsEmailedTo = publisherEmail where commentsEmailedTo IS NULL;</sql>
  </changeSet>
  <changeSet id="2013-02-26_01" author="jk00kg">
    <comment>Required to send e-mails</comment>
    <sql>update Organisation set commentsEmailedTo = creatorEmail where commentsEmailedTo IS NULL;</sql>
  </changeSet>
  <changeSet id="2013-02-26_02" author="jk00kg">
    <comment>Required to send e-mails</comment>
    <sql>update Organisation set commentsEmailedTo = 'enquires@about.e-monocot.org' where commentsEmailedTo IS NULL;</sql>
  </changeSet>
  <changeSet id="2013-02-27_01" author="jk00kg">
    <comment>Required to send e-mails</comment>
    <sql>update Organisation set commentsEmailedTo = publisherEmail where char_length(trim(commentsEmailedTo)) &lt; 1;</sql>
  </changeSet>
  <changeSet id="2013-02-27_02" author="jk00kg">
    <comment>Required to send e-mails</comment>
    <sql>update Organisation set commentsEmailedTo = creatorEmail where char_length(trim(commentsEmailedTo)) &lt; 1;</sql>
  </changeSet>
  <changeSet id="2013-02-27_03" author="jk00kg">
    <comment>Required to send e-mails</comment>
    <sql>update Organisation set commentsEmailedTo = 'enquires@about.e-monocot.org' where char_length(trim(commentsEmailedTo)) &lt; 1;</sql>
  </changeSet>
  <changeSet id="2013-03-04_01" author="ben">
    <comment>References from scratchpads have the uri for the protolog in the dc:related field</comment>
    <addColumn tableName="Reference">
      <column name="uri" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_02" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="name" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_03" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="firstName" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_04" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="familyName" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_05" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="organization" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_06" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="accountName" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_07" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="img" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_08" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="topicInterest" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-04_09" author="ben">
    <comment>BUG #119: As a user of eMonocot, I would like that when I fill the registration form my data will be saved in my profile page</comment>
    <addColumn tableName="Principal">
      <column name="homepage" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2013-03-04_10">
    <addUniqueConstraint columnNames="accountName" constraintName="principal_accountname_uk"  tableName="Principal"/>
  </changeSet>
  <changeSet author="ben" id="2013-03-04_11">
    <sql>update Principal set accountName = concat('user',id) where DTYPE = 'User';</sql>
  </changeSet>
  <changeSet id="2013-03-07_01" author="ben">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <addColumn tableName="Comment">
      <column name="commentPage_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-07_02" author="ben">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <addColumn tableName="Comment">
      <column name="commentPage_type" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-07_03" author="ben">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <addColumn tableName="Comment">
      <column name="inResponseTo_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2013-03-07_04">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <addForeignKeyConstraint constraintName="Comment_inResponseTo_id_FK" baseTableName="Comment" baseColumnNames="inResponseTo_id" referencedTableName="Comment" referencedColumnNames="id" />
  </changeSet>
  <changeSet author="ben" id="2013-03-07_05">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <createIndex tableName="Comment" indexName="Comment_inResponseTo_id_IDX">
      <column name="inResponseTo_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-03-07_06">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <createIndex tableName="Comment" indexName="Comment_commentPage_id_IDX">
      <column name="commentPage_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-03-07_07">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <createIndex tableName="Comment" indexName="Comment_commentPage_type_IDX">
      <column name="commentPage_type"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-03-07_08">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <createIndex tableName="Comment" indexName="Comment_aboutData_id_IDX">
      <column name="aboutData_id"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-03-07_09">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <createIndex tableName="Comment" indexName="Comment_aboutData_type_IDX">
      <column name="aboutData_type"/>
    </createIndex>
  </changeSet>
  <changeSet author="ben" id="2013-03-07_10">
    <comment>Set the resourceType to be not null</comment>
    <sql>update Resource set resourceType = "DOWNLOAD" where resourceType is NULL;</sql>
  </changeSet>
  <changeSet id="2013-03-12_01" author="ben">
    <comment>BUG #461: As a user of eMonocot I would like to be able to search and filter comments</comment>
    <addColumn tableName="Comment">
      <column name="subject" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-14_01" author="ben">
    <comment>BUG #453: As a user of eMonocot I would like the IUCN link on the taxon page to direct me to the relevant IUCN species page </comment>
    <addColumn tableName="MeasurementOrFact">
      <column name="source" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-03-25_01" author="ben">
    <comment>BUG #462: As a system owner recieving a comment via email, I would like to be able to reply to the comment</comment>
    <addColumn tableName="Principal">
      <column name="notifyByEmail" type="boolean" defaultValueBoolean="false">
        <constraints nullable="false"/>
      </column>
    </addColumn>
  </changeSet>
  <changeSet id="2013-04-11_01" author="ben">
    <comment>Created new data type PhylogeneticTree #94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <createTable tableName="PhylogeneticTree">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="identifier" type="varchar(255)">
        <constraints nullable="false"  unique="true"/>
      </column>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source" type="varchar(255)"/>
      <column name="description" type="longtext"/>
      <column name="title" type="varchar(255)"/>
      <column name="authority_id" type="bigint"/>
      <column name="accessRights" type="varchar(255)"/>
      <column name="rights" type="longtext"/>
      <column name="phylogeny" type="longtext"/>
      <column name="rightsHolder" type="varchar(255)"/>
    </createTable>
  </changeSet>
  <changeSet id="2013-04-12_01" author="ben" >
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <createTable tableName="Taxon_PhylogeneticTree">
      <column name="Taxon_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="trees_id" type="bigint">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2013-04-12_02" author="ben" >
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addForeignKeyConstraint constraintName="Taxon_PhylogeneticTree_Taxon_FK" baseTableName="Taxon_PhylogeneticTree" baseColumnNames="taxon_id" referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2013-04-12_03" author="ben" >
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addForeignKeyConstraint constraintName="Taxon_PhylogeneticTree_trees_FK" baseTableName="Taxon_PhylogeneticTree" baseColumnNames="trees_id"
      referencedTableName="PhylogeneticTree" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2013-04-12_04" author="ben">
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addForeignKeyConstraint constraintName="PhylogeneticTree_authority_FK"
      referencedTableName="Organisation"
      baseColumnNames="authority_id"
      baseTableName="PhylogeneticTree"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2013-04-23_01" author="ben">
    <comment>BUG 447: As a biodiversity scientist, I would like to calculate statistics about taxa in eMonocot.</comment>
    <sql>update measurementorfact set measurementType = "http://iucn.org/terms/threatstatus" where measurementType = "IUCNConservationStatus";</sql>
  </changeSet>
  <changeSet id="2013-04-23_02" author="ben">
    <comment>BUG 447: As a biodiversity scientist, I would like to calculate statistics about taxa in eMonocot.</comment>
    <sql>update measurementorfact set measurementType = "http://e-monocot.org/srli" where measurementType = "SRLI";</sql>
  </changeSet>
  <changeSet id="2013-04-23_03" author="ben">
    <comment>BUG 447: As a biodiversity scientist, I would like to calculate statistics about taxa in eMonocot.</comment>
    <sql>update measurementorfact set measurementType = " http://kew.org/wcs/terms/lifeform" where measurementType = "LifeForm";</sql>
  </changeSet>
  <changeSet id="2013-04-23_04" author="ben">
    <comment>BUG 447: As a biodiversity scientist, I would like to calculate statistics about taxa in eMonocot.</comment>
    <sql>update measurementorfact set measurementType = "http://kew.org/wcs/terms/habitat" where measurementType = "Habitat";</sql>
  </changeSet>
  <changeSet id="2013-04-26_01" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <createTable tableName="hibernate_sequences">
      <column name="sequence_name" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="sequence_next_hi_value" type="bigint">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2013-04-26_02" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Comment), 'Comment');</sql>
  </changeSet>
  <changeSet id="2013-04-26_03" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Description), 'Description');</sql>
  </changeSet>
  <changeSet id="2013-04-26_04" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Distribution), 'Distribution');</sql>
  </changeSet>
  <changeSet id="2013-04-26_05" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from IdentificationKey), 'IdentificationKey');</sql>
  </changeSet>
  <changeSet id="2013-04-26_06" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Image), 'Image');</sql>
  </changeSet>
  <changeSet id="2013-04-26_07" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Resource), 'Resource');</sql>
  </changeSet>
  <changeSet id="2013-04-26_08" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from MeasurementOrFact), 'MeasurementOrFact');</sql>
  </changeSet>
  <changeSet id="2013-04-26_09" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Place), 'Place');</sql>
  </changeSet>
  <changeSet id="2013-04-26_10" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Principal), 'Principal');</sql>
  </changeSet>
  <changeSet id="2013-04-26_11" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Reference), 'Reference');</sql>
  </changeSet>
  <changeSet id="2013-04-26_12" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Organisation), 'Organisation');</sql>
  </changeSet>
  <changeSet id="2013-04-26_13" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Taxon), 'Taxon');</sql>
  </changeSet>
  <changeSet id="2013-04-26_14" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from TypeAndSpecimen), 'TypeAndSpecimen');</sql>
  </changeSet>
  <changeSet id="2013-04-26_15" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from VernacularName), 'VernacularName');</sql>
  </changeSet>
  <changeSet author="ben" id="2013-04-29_1">
    <modifyDataType tableName="TypeAndSpecimen" columnName="locality" newDataType="longtext"/>
  </changeSet>
  <changeSet author="ben" id="2013-05-15_1">
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addColumn tableName="PhylogeneticTree">
      <column name="numberOfExternalNodes" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2013-05-15_2">
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addColumn tableName="PhylogeneticTree">
      <column name="source_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-05-15_3" author="ben">
    <addForeignKeyConstraint constraintName="FKC35AE4F16B53D39D" referencedTableName="Reference" baseColumnNames="source_id" baseTableName="PhylogeneticTree" referencedColumnNames="id"/>
  </changeSet>
  <changeSet author="ben" id="2013-05-17_1">
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addColumn tableName="PhylogeneticTree">
      <column name="hasBranchLengths" type="boolean" defaultValueBoolean="false"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-05-20_01" author="ben" >
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <createTable tableName="PhylogeneticTree_Taxon">
      <column name="PhylogeneticTree_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="leaves_id" type="bigint">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2013-05-20_02" author="ben" >
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addForeignKeyConstraint constraintName="PhylogeneticTree_Taxon_leaves_FK" baseTableName="PhylogeneticTree_Taxon" baseColumnNames="leaves_id" referencedTableName="Taxon" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2013-05-20_03" author="ben" >
    <comment>BUG 94: As a user of eMonocot, I would like to see and explore the phylogeny tree in a taxon page.</comment>
    <addForeignKeyConstraint constraintName="PhylogeneticTree_Taxon_PhylogeneticTree_FK" baseTableName="PhylogeneticTree_Taxon" baseColumnNames="PhylogeneticTree_id"
      referencedTableName="PhylogeneticTree" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2013-05-28_01" author="ben">
    <comment>BUG 493: download function not workind.</comment>
    <sql>insert into hibernate_sequences (sequence_next_hi_value,sequence_name) values ((select IFNULL(((max(id) DIV (128 + 1)) + 1),1) from Identifier), 'Identifier');</sql>
  </changeSet>
  <changeSet author="ben" id="2013-06-05_1">
    <comment>Add apiKey column to principal table.</comment>
    <addColumn tableName="Principal">
      <column name="apiKey" type="varchar(255)"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-06-05_2" author="ben">
    <comment>Add apiKey column to principal table.</comment>
    <sql>update principal set apiKey = UUID() where DTYPE = 'User';</sql>
  </changeSet>
  <changeSet id="2013-06-05_3" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="22"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_4" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="23"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_5" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="24"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_6" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="25"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_7" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="26"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_8" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="27"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_9" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="28"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_10" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="29"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_11" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="30"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_12" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="31"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_13" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="32"/>
    </insert>
  </changeSet>
  <changeSet id="2013-06-05_14" author="ben">
    <comment>Add permissions for other object types.</comment>
    <insert tableName="Group_permissions">
      <column name="Group_id" valueNumeric="1"/>
      <column name="permissions" valueNumeric="33"/>
    </insert>
  </changeSet>
  <changeSet id="2013-07-11_01" author="ben">
    <comment>BUG #463 As a Scratchpad system owner, I would like feeback to be inserted into my scratchpad directly</comment>
    <addColumn tableName="Comment">
      <column name="authority_id" type="bigint"/>
    </addColumn>
  </changeSet>
  <changeSet id="2013-07-11_02" author="ben">
    <comment>BUG #463 As a Scratchpad system owner, I would like feeback to be inserted into my scratchpad directly</comment>
    <addForeignKeyConstraint constraintName="FKC35AE4F16C64D29C"
      referencedTableName="Organisation"
      baseColumnNames="authority_id"
      baseTableName="Comment"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2013-07-11_03" author="ben">
    <comment>BUG #463 As a Scratchpad system owner, I would like feeback to be inserted into my scratchpad directly</comment>
    <createTable tableName="Comment_alternativeIdentifiers">
      <column name="Comment_id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="alternativeIdentifiers" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
      <column name="alternativeIdentifiers_KEY" type="varchar(255)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2013-07-11_04" author="ben">
    <comment>BUG #463 As a Scratchpad system owner, I would like feeback to be inserted into my scratchpad directly</comment>
    <addForeignKeyConstraint constraintName="FK7B63B2A45090CB20"
      referencedTableName="Comment"
      baseColumnNames="Comment_id"
      baseTableName="Comment_alternativeIdentifiers"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2013-07-11_05" author="ben">
    <comment>BUG #463 As a Scratchpad system owner, I would like feeback to be inserted into my scratchpad directly</comment>
    <addColumn tableName="Organisation">
      <column name="insertCommentsIntoScratchpad" type="boolean" defaultValueBoolean="false"/>
    </addColumn>
  </changeSet>
  <changeSet author="ben" id="2013-08-15_01">
    <comment>BUG #449 As a biologist, I would like to understand the terminology in eMonocot</comment>
    <createTable tableName="Concept">
      <column name="id" type="bigint">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="identifier" type="varchar(255)">
        <constraints nullable="false" unique="true"/>
      </column>
      <column name="created" type="datetime"/>
      <column name="creator" type="varchar(255)"/>
      <column name="license" type="varchar(255)"/>
      <column name="modified" type="datetime"/>
      <column name="source_id" type="bigint"/>
      <column name="definition" type="longtext"/>
      <column name="prefLabel" type="varchar(255)"/>
      <column name="authority_id" type="bigint"/>
      <column name="accessRights" type="varchar(255)"/>
      <column name="rights" type="longtext"/>
      <column name="rightsHolder" type="varchar(255)"/>
      <column name="altLabel" type="varchar(255)"/>
      <column name="prefSymbol_id" type="bigint"/>
    </createTable>
  </changeSet>
  <changeSet id="2013-08-15_02" author="ben" >
    <comment>BUG #449 As a biologist, I would like to understand the terminology in eMonocot</comment>
    <createTable tableName="Taxon_Concept">
      <column name="Taxon_id" type="bigint">
        <constraints nullable="false"/>
      </column>
      <column name="concepts_id" type="bigint">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="2013-08-15_03" author="ben" >
    <comment>BUG #449 As a biologist, I would like to understand the terminology in eMonocot</comment>
    <addForeignKeyConstraint constraintName="Taxon_Concept_Taxon_FK" baseTableName="Taxon_Concept" baseColumnNames="taxon_id" referencedTableName="Taxon" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2013-08-15_04" author="ben" >
    <comment>BUG #449 As a biologist, I would like to understand the terminology in eMonocot</comment>
    <addForeignKeyConstraint constraintName="Taxon_Concept_concepts_FK" baseTableName="Taxon_Concept" baseColumnNames="concepts_id" referencedTableName="Concept" referencedColumnNames="id"
      />
  </changeSet>
  <changeSet id="2013-08-15_05" author="ben">
    <comment>BUG #449 As a biologist, I would like to understand the terminology in eMonocot</comment>
    <addForeignKeyConstraint constraintName="Concept_authority_FK" referencedTableName="Organisation" baseColumnNames="authority_id" baseTableName="Concept" referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2013-08-15_06" author="ben">
    <comment>BUG #449 As a biologist, I would like to understand the terminology in eMonocot</comment>
    <addForeignKeyConstraint constraintName="Concept_source_FK"
      referencedTableName="Reference"
      baseColumnNames="source_id"
      baseTableName="Concept"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2013-08-15_07" author="ben">
    <comment>BUG #449 As a biologist, I would like to understand the terminology in eMonocot</comment>
    <addForeignKeyConstraint constraintName="Concept_prefSymbol_FK"
      referencedTableName="Image"
      baseColumnNames="prefSymbol_id"
      baseTableName="Concept"
      referencedColumnNames="id"/>
  </changeSet>
  <changeSet id="2013-08-29_01" author="ben">
    <comment>Add lastAttempt column to avoid repeated harvesting in a short period of time</comment>
    <addColumn tableName="Resource">
      <column name="lastAttempt" type="datetime"/>
    </addColumn>
  </changeSet>
  <changeSet id="2014-08-13_01" author="jk00kg">
    <addColumn tableName="Image">
      <column name="references" type="varchar(255)" />
    </addColumn>
  </changeSet>
  <changeSet id="2014-08-13_02" author="jk00kg">
    <update tableName="Image">
      <column name="references" valueComputed="source"/>
    </update>
  </changeSet>
  <changeSet id="2014-08-13_03" author="jk00kg">
    <update tableName="Image">
      <column name="source" value="NULL"/>
    </update>
  </changeSet>
  <changeSet id="2014-09-02_01" author="jk00kg">
    <addColumn tableName="PhylogeneticTree">
      <column name="bibliographicReference_id" type="bigint"/>
    </addColumn>
    <addColumn tableName="PhylogeneticTree">
      <column name="format" type="varchar(255)" />
    </addColumn>
    <addColumn tableName="PhylogeneticTree">
      <column name="references" type="varchar(255)" />
    </addColumn>
    <addColumn tableName="PhylogeneticTree">
      <column name="contributor" type="varchar(255)" />
    </addColumn>
    <addColumn tableName="PhylogeneticTree">
      <column name="publisher" type="varchar(255)" />
    </addColumn>
    <addColumn tableName="PhylogeneticTree">
      <column name="audience" type="varchar(255)" />
    </addColumn>
  </changeSet>
  <changeSet id="2014-09-02_02" author="jk00kg">
    <update tableName="PhylogeneticTree">
      <column name="bibliographicReference_id" valueComputed="source_id"/>
    </update>
  </changeSet>
  <changeSet id="2014-09-02_03" author="jk00kg">
    <dropForeignKeyConstraint baseTableName="PhylogeneticTree" constraintName="FKC35AE4F16B53D39D" />
    <dropColumn tableName="PhylogeneticTree" columnName="source_id" />
  </changeSet>
  <changeSet id="2013-09-02_04" author="jk00kg">
    <addForeignKeyConstraint constraintName="PhylogeneticTree_Reference_FK" baseTableName="PhylogeneticTree" baseColumnNames="bibliographicReference_id" referencedTableName="Reference" referencedColumnNames="id" />
  </changeSet>
  <changeSet id="2014-11-18_01" author="jk00kg">
    <addColumn tableName="IdentificationKey">
      <column name="audience" type="varchar(255)" />
      <column name="contributor" type="varchar(255)" />
      <column name="format" type="varchar(255)" />
      <column name="publisher" type="varchar(255)" />
      <column name="references" type="varchar(255)" />
      <column name="source" type="varchar(255)" />
    </addColumn>
  </changeSet>
</databaseChangeLog>
